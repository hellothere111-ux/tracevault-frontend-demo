import{c as At,r as c,l as Ct,j as e,B}from"./index-ClRrKUtC.js";import{C as Tt}from"./config-drawer-BkPFnkv_.js";import{H as Mt,S as kt}from"./search-BaqKO3OT.js";import{M as Pt}from"./main-DapJaJuq.js";import{P as It}from"./profile-dropdown-DZIa3SMe.js";import{T as Lt}from"./theme-switch-CF-cyYAu.js";import{T as rt,a as nt,b as me,c as xe}from"./tabs-Ca8cCF1D.js";import{S as Et,a as Ot,b as Rt,c as Bt,d as $t}from"./select-KgILCZSu.js";import{C as D,a as S,b as A,c as w,d as ie}from"./card-CF-0ZApx.js";import{B as E}from"./badge-B6cbIkvq.js";import{T as pe,X as Oe}from"./scroll-area-r2-fS_ir.js";import{T as re}from"./triangle-alert-DlKRUiwh.js";import{C as ee}from"./circle-alert-B1VA7eRm.js";import{T as Re}from"./trending-up-BQT8HU1s.js";import{A as Se}from"./activity-DAxwDv-k.js";import{g as zt,A as He,D as Ht,C as oe,a as we,L as Wt,G as Ft}from"./LineChart-B7yrhAaw.js";import{a as ge,E as Vt,F as Ut,G as Kt,H as _t,I as Gt,C as fe}from"./confirm-dialog-BXsq-Bnn.js";import{c as Me,s as Be,a as it,b as lt,d as Jt,e as Xt,f as Yt,g as Zt,i as ot,h as We,j as qt,p as Qt,r as dt,D as es,u as ct,k as ts,S as ss,l as as,m as rs,n as mt,o as ns,q as is,t as ls,v as os,w as ds,x as cs,y as ms,Z as xs,L as Ae,G as us,z as Fe,A as Ve,B as ue,E as hs,F as ps,J as gs,H as le,I as fs,K as js,M as vs,N as ys,O as xt,P as bs,Q as Pe,U as Ce,V as Ns,W as Ds,_ as ws,R as Ue,C as Ke,X as _e,Y as Ge,T as Je}from"./CartesianChart-CkWsNaB1.js";import{L as Xe,F as ut,E as ht,C as Ee}from"./Legend-B82PBuKw.js";import{s as $e,a as ze}from"./graphicalItemSelectors-CAo3yjZU.js";import{A as ve,a as ye,b as be}from"./sign-out-dialog-BYISYqHZ.js";import{C as de}from"./calendar-uttn_k_F.js";import{E as pt}from"./eye-COj9pUny.js";import{B as Ye}from"./building-2-1gGkiKoe.js";import{C as Ss}from"./chart-column-AOaqCsbs.js";import"./index-BQH2VeOl.js";import"./index-DFRgZbbD.js";import"./index-Bf6nDQ76.js";import"./index-D2yHU21S.js";import"./index-BSPym9zS.js";import"./index-CTf18VH5.js";import"./index-BSmypZjP.js";import"./layout-provider-BynDjBpZ.js";import"./rotate-ccw-DA59wboR.js";import"./circle-check-BA1mJQvN.js";import"./separator-D6k2XkqK.js";import"./check-eAYW6NKX.js";import"./index-_3HjS36V.js";import"./index-CEAR8xvl.js";import"./index-OBLZP5al.js";import"./circle-question-mark-DVifE8rH.js";import"./arrow-right-Dt2ZMSZU.js";const As=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],Ie=At("file-code",As);var gt=(t,s,n)=>it(t,"xAxis",$e(t,s),n),ft=(t,s,n)=>lt(t,"xAxis",$e(t,s),n),jt=(t,s,n)=>it(t,"yAxis",ze(t,s),n),vt=(t,s,n)=>lt(t,"yAxis",ze(t,s),n),Cs=Me([Be,gt,jt,ft,vt],(t,s,n,l,m)=>ot(t,"xAxis")?We(s,l,!1):We(n,m,!1)),Ts=(t,s)=>s,yt=Me([qt,Ts],(t,s)=>t.filter(n=>n.type==="area").find(n=>n.id===s)),bt=t=>{var s=Be(t),n=ot(s,"xAxis");return n?"yAxis":"xAxis"},Ms=(t,s)=>{var n=bt(t);return n==="yAxis"?ze(t,s):$e(t,s)},ks=(t,s,n)=>Yt(t,bt(t),Ms(t,s),n),Ps=Me([yt,ks],(t,s)=>{var n;if(!(t==null||s==null)){var{stackId:l}=t,m=Zt(t);if(!(l==null||m==null)){var x=(n=s[l])===null||n===void 0?void 0:n.stackedData,h=x?.find(i=>i.key===m);if(h!=null)return h.map(i=>[i[0],i[1]])}}}),Is=Me([Be,gt,jt,ft,vt,Ps,Jt,Cs,yt,Xt],(t,s,n,l,m,x,h,i,p,d)=>{var{chartData:j,dataStartIndex:y,dataEndIndex:C}=h;if(!(p==null||t!=="horizontal"&&t!=="vertical"||s==null||n==null||l==null||m==null||l.length===0||m.length===0||i==null)){var{data:g}=p,O;if(g&&g.length>0?O=g:O=j?.slice(y,C+1),O!=null)return Zs({layout:t,xAxis:s,yAxis:n,xAxisTicks:l,yAxisTicks:m,dataStartIndex:y,areaSettings:p,stackedData:x,displayedData:O,chartBaseValue:d,bandSize:i})}}),Ls=["id"],Es=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ne(){return ne=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var l in n)({}).hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},ne.apply(null,arguments)}function Nt(t,s){if(t==null)return{};var n,l,m=Os(t,s);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(t);for(l=0;l<x.length;l++)n=x[l],s.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(m[n]=t[n])}return m}function Os(t,s){if(t==null)return{};var n={};for(var l in t)if({}.hasOwnProperty.call(t,l)){if(s.indexOf(l)!==-1)continue;n[l]=t[l]}return n}function Ze(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);s&&(l=l.filter(function(m){return Object.getOwnPropertyDescriptor(t,m).enumerable})),n.push.apply(n,l)}return n}function ce(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Ze(Object(n),!0).forEach(function(l){Rs(t,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(n,l))})}return t}function Rs(t,s,n){return(s=Bs(s))in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function Bs(t){var s=$s(t,"string");return typeof s=="symbol"?s:s+""}function $s(t,s){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var l=n.call(t,s);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Te(t,s){return t&&t!=="none"?t:s}var zs=t=>{var{dataKey:s,name:n,stroke:l,fill:m,legendType:x,hide:h}=t;return[{inactive:h,dataKey:s,type:x,color:Te(l,m),value:mt(n,s),payload:t}]},Hs=c.memo(t=>{var{dataKey:s,data:n,stroke:l,strokeWidth:m,fill:x,name:h,hide:i,unit:p,tooltipType:d,id:j}=t,y={dataDefinedOnItem:n,positions:void 0,settings:{stroke:l,strokeWidth:m,fill:x,dataKey:s,nameKey:void 0,name:mt(h,s),hide:i,type:d,color:Te(l,x),unit:p,graphicalItemId:j}};return c.createElement(ns,{tooltipEntrySettings:y})});function Ws(t){var{clipPathId:s,points:n,props:l}=t,{needClip:m,dot:x,dataKey:h}=l,i=xt(l);return c.createElement(Ht,{points:n,dot:x,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:h,baseProps:i,needClip:m,clipPathId:s})}function Fs(t){var{showLabels:s,children:n,points:l}=t,m=l.map(x=>{var h,i,p={x:(h=x.x)!==null&&h!==void 0?h:0,y:(i=x.y)!==null&&i!==void 0?i:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ce(ce({},p),{},{value:x.value,payload:x.payload,parentViewBox:void 0,viewBox:p,fill:void 0})});return c.createElement(ys,{value:s?m:void 0},n)}function qe(t){var{points:s,baseLine:n,needClip:l,clipPathId:m,props:x}=t,{layout:h,type:i,stroke:p,connectNulls:d,isRange:j}=x,{id:y}=x,C=Nt(x,Ls),g=xt(C),O=bs(C);return c.createElement(c.Fragment,null,s?.length>1&&c.createElement(Ae,{clipPath:l?"url(#clipPath-".concat(m,")"):void 0},c.createElement(Pe,ne({},O,{id:y,points:s,connectNulls:d,type:i,baseLine:n,layout:h,stroke:"none",className:"recharts-area-area"})),p!=="none"&&c.createElement(Pe,ne({},g,{className:"recharts-area-curve",layout:h,type:i,connectNulls:d,fill:"none",points:s})),p!=="none"&&j&&c.createElement(Pe,ne({},g,{className:"recharts-area-curve",layout:h,type:i,connectNulls:d,fill:"none",points:n}))),c.createElement(Ws,{points:s,props:C,clipPathId:m}))}function Vs(t){var s,n,{alpha:l,baseLine:m,points:x,strokeWidth:h}=t,i=(s=x[0])===null||s===void 0?void 0:s.y,p=(n=x[x.length-1])===null||n===void 0?void 0:n.y;if(!Ce(i)||!Ce(p))return null;var d=l*Math.abs(i-p),j=Math.max(...x.map(y=>y.x||0));return ue(m)?j=Math.max(m,j):m&&Array.isArray(m)&&m.length&&(j=Math.max(...m.map(y=>y.x||0),j)),ue(j)?c.createElement("rect",{x:0,y:i<p?i:i-d,width:j+(h?parseInt("".concat(h),10):1),height:Math.floor(d)}):null}function Us(t){var s,n,{alpha:l,baseLine:m,points:x,strokeWidth:h}=t,i=(s=x[0])===null||s===void 0?void 0:s.x,p=(n=x[x.length-1])===null||n===void 0?void 0:n.x;if(!Ce(i)||!Ce(p))return null;var d=l*Math.abs(i-p),j=Math.max(...x.map(y=>y.y||0));return ue(m)?j=Math.max(m,j):m&&Array.isArray(m)&&m.length&&(j=Math.max(...m.map(y=>y.y||0),j)),ue(j)?c.createElement("rect",{x:i<p?i:i-d,y:0,width:d,height:Math.floor(j+(h?parseInt("".concat(h),10):1))}):null}function Ks(t){var{alpha:s,layout:n,points:l,baseLine:m,strokeWidth:x}=t;return n==="vertical"?c.createElement(Vs,{alpha:s,points:l,baseLine:m,strokeWidth:x}):c.createElement(Us,{alpha:s,points:l,baseLine:m,strokeWidth:x})}function _s(t){var{needClip:s,clipPathId:n,props:l,previousPointsRef:m,previousBaselineRef:x}=t,{points:h,baseLine:i,isAnimationActive:p,animationBegin:d,animationDuration:j,animationEasing:y,onAnimationStart:C,onAnimationEnd:g}=l,O=c.useMemo(()=>({points:h,baseLine:i}),[h,i]),U=hs(O,"recharts-area-"),$=ps(),[J,K]=c.useState(!1),_=!J,T=c.useCallback(()=>{typeof g=="function"&&g(),K(!1)},[g]),z=c.useCallback(()=>{typeof C=="function"&&C(),K(!0)},[C]);if($==null)return null;var H=m.current,W=x.current;return c.createElement(Fs,{showLabels:_,points:h},l.children,c.createElement(gs,{animationId:U,begin:d,duration:j,isActive:p,easing:y,onAnimationEnd:T,onAnimationStart:z,key:U},P=>{if(H){var F=H.length/h.length,X=P===1?h:h.map((V,Q)=>{var I=Math.floor(Q*F);if(H[I]){var G=H[I];return ce(ce({},V),{},{x:le(G.x,V.x,P),y:le(G.y,V.y,P)})}return V}),k;return ue(i)?k=le(W,i,P):fs(i)||js(i)?k=le(W,0,P):k=i.map((V,Q)=>{var I=Math.floor(Q*F);if(Array.isArray(W)&&W[I]){var G=W[I];return ce(ce({},V),{},{x:le(G.x,V.x,P),y:le(G.y,V.y,P)})}return V}),P>0&&(m.current=X,x.current=k),c.createElement(qe,{points:X,baseLine:k,needClip:s,clipPathId:n,props:l})}return P>0&&(m.current=h,x.current=i),c.createElement(Ae,null,p&&c.createElement("defs",null,c.createElement("clipPath",{id:"animationClipPath-".concat(n)},c.createElement(Ks,{alpha:P,points:h,baseLine:i,layout:$,strokeWidth:l.strokeWidth}))),c.createElement(Ae,{clipPath:"url(#animationClipPath-".concat(n,")")},c.createElement(qe,{points:h,baseLine:i,needClip:s,clipPathId:n,props:l})))}),c.createElement(vs,{label:l.label}))}function Gs(t){var{needClip:s,clipPathId:n,props:l}=t,m=c.useRef(null),x=c.useRef();return c.createElement(_s,{needClip:s,clipPathId:n,props:l,previousPointsRef:m,previousBaselineRef:x})}class Js extends c.PureComponent{render(){var{hide:s,dot:n,points:l,className:m,top:x,left:h,needClip:i,xAxisId:p,yAxisId:d,width:j,height:y,id:C,baseLine:g,zIndex:O}=this.props;if(s)return null;var U=Ct("recharts-area",m),$=C,{r:J,strokeWidth:K}=zt(n),_=ms(n),T=J*2+K,z=i?"url(#clipPath-".concat(_?"":"dots-").concat($,")"):void 0;return c.createElement(xs,{zIndex:O},c.createElement(Ae,{className:U},i&&c.createElement("defs",null,c.createElement(us,{clipPathId:$,xAxisId:p,yAxisId:d}),!_&&c.createElement("clipPath",{id:"clipPath-dots-".concat($)},c.createElement("rect",{x:h-T/2,y:x-T/2,width:j+T,height:y+T}))),c.createElement(Gs,{needClip:i,clipPathId:$,props:this.props})),c.createElement(He,{points:l,mainColor:Te(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:z}),this.props.isRange&&Array.isArray(g)&&c.createElement(He,{points:g,mainColor:Te(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:z}))}}var Dt={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:es.area};function Xs(t){var s,n=dt(t,Dt),{activeDot:l,animationBegin:m,animationDuration:x,animationEasing:h,connectNulls:i,dot:p,fill:d,fillOpacity:j,hide:y,isAnimationActive:C,legendType:g,stroke:O,xAxisId:U,yAxisId:$}=n,J=Nt(n,Es),K=is(),_=ls(),{needClip:T}=os(U,$),z=ct(),{points:H,isRange:W,baseLine:P}=(s=ds(I=>Is(I,t.id,z)))!==null&&s!==void 0?s:{},F=cs();if(K!=="horizontal"&&K!=="vertical"||F==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:X,width:k,x:V,y:Q}=F;return!H||!H.length?null:c.createElement(Js,ne({},J,{activeDot:l,animationBegin:m,animationDuration:x,animationEasing:h,baseLine:P,connectNulls:i,dot:p,fill:d,fillOpacity:j,height:X,hide:y,layout:K,isAnimationActive:C==="auto"?!Ns.isSsr:C,isRange:W,legendType:g,needClip:T,points:H,stroke:O,width:k,left:V,top:Q,xAxisId:U,yAxisId:$}))}var Ys=(t,s,n,l,m)=>{var x=n??s;if(ue(x))return x;var h=t==="horizontal"?m:l,i=h.scale.domain();if(h.type==="number"){var p=Math.max(i[0],i[1]),d=Math.min(i[0],i[1]);return x==="dataMin"?d:x==="dataMax"||p<0?p:Math.max(Math.min(i[0],i[1]),0)}return x==="dataMin"?i[0]:x==="dataMax"?i[1]:i[0]};function Zs(t){var{areaSettings:{connectNulls:s,baseValue:n,dataKey:l},stackedData:m,layout:x,chartBaseValue:h,xAxis:i,yAxis:p,displayedData:d,dataStartIndex:j,xAxisTicks:y,yAxisTicks:C,bandSize:g}=t,O=m&&m.length,U=Ys(x,h,n,i,p),$=x==="horizontal",J=!1,K=d.map((T,z)=>{var H,W,P;if(O)P=m[j+z];else{var F=Fe(T,l);Array.isArray(F)?(P=F,J=!0):P=[U,F]}var X=(H=(W=P)===null||W===void 0?void 0:W[1])!==null&&H!==void 0?H:null,k=X==null||O&&!s&&Fe(T,l)==null;return $?{x:Ve({axis:i,ticks:y,bandSize:g,entry:T,index:z}),y:k?null:p.scale(X),value:P,payload:T}:{x:k?null:i.scale(X),y:Ve({axis:p,ticks:C,bandSize:g,entry:T,index:z}),value:P,payload:T}}),_;return O||J?_=K.map(T=>{var z=Array.isArray(T.value)?T.value[0]:null;return $?{x:T.x,y:z!=null&&T.y!=null?p.scale(z):null,payload:T.payload}:{x:z!=null?i.scale(z):null,y:T.y,payload:T.payload}}):_=$?p.scale(U):i.scale(U),{points:K,baseLine:_,isRange:J}}function qs(t){var s=dt(t,Dt),n=ct();return c.createElement(ts,{id:s.id,type:"area"},l=>c.createElement(c.Fragment,null,c.createElement(ss,{legendPayload:zs(s)}),c.createElement(Hs,{dataKey:s.dataKey,data:s.data,stroke:s.stroke,strokeWidth:s.strokeWidth,fill:s.fill,name:s.name,hide:s.hide,unit:s.unit,tooltipType:s.tooltipType,id:l}),c.createElement(as,{type:"area",id:l,data:s.data,dataKey:s.dataKey,xAxisId:s.xAxisId,yAxisId:s.yAxisId,zAxisId:0,stackId:rs(s.stackId),hide:s.hide,barSize:void 0,baseValue:s.baseValue,isPanorama:n,connectNulls:s.connectNulls}),c.createElement(Xs,ne({},s,{id:l}))))}var wt=c.memo(qs,Qt);wt.displayName="Area";var Qs=["axis"],ea=c.forwardRef((t,s)=>c.createElement(Ds,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qs,tooltipPayloadSearcher:ws,categoricalChartProps:t,ref:s}));function ta({stats:t}){const n=[{id:"APP-001",title:"Critical Apache Struts Vulnerability",severity:"Critical",asset:"Web Application Server",daysOverdue:5,priority:1},{id:"OFF-003",title:"Penetration Test Findings - Production",severity:"High",asset:"Production Environment",daysOverdue:3,priority:2},{id:"APP-005",title:"SSL Certificate Expiration",severity:"High",asset:"API Gateway",daysOverdue:2,priority:3},{id:"REM-012",title:"Database Security Patch Required",severity:"Critical",asset:"Customer Database",daysOverdue:1,priority:4}],l=[{month:"Last 30 Days",opened:42,closed:35,net:7}],m=[{month:"Last 30 Days",opened:28,closed:22,net:6}],x=[{date:"Dec 29",mttr:12.8,sla:10},{date:"Jan 5",mttr:11.9,sla:10},{date:"Jan 12",mttr:11.2,sla:10},{date:"Jan 19",mttr:10.5,sla:10},{date:"Jan 26",mttr:9.8,sla:10}],h=({active:d,payload:j})=>d&&j&&j.length?e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-lg",children:[e.jsx("p",{className:"font-semibold text-sm",children:j[0].payload.date}),j.map((y,C)=>e.jsxs("p",{style:{color:y.color},className:"text-xs",children:[y.name,": ",y.value]},C))]}):null,i=[{date:"Dec 29",fixed:25,created:32,open:48},{date:"Jan 5",fixed:28,created:35,open:52},{date:"Jan 12",fixed:31,created:38,open:55},{date:"Jan 19",fixed:29,created:34,open:50},{date:"Jan 26",fixed:33,created:40,open:50}],p=[{severity:"Critical",count:8,color:"bg-red-500",textColor:"text-red-600"},{severity:"High",count:15,color:"bg-orange-500",textColor:"text-orange-600"},{severity:"Medium",count:22,color:"bg-yellow-500",textColor:"text-yellow-600"},{severity:"Low",count:12,color:"bg-green-500",textColor:"text-green-600"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4 text-blue-600"}),"Total Remediation Items"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold",children:t.remediationTasks}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Active vulnerability fixes and patches"})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-yellow-600"}),"SLA Approaching"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:Math.floor(t.overdueTasks*.3)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Tasks approaching SLA deadline"})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-red-600"}),"SLA Breaches"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:t.overdueTasks}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Tasks past SLA deadline"})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4 text-green-600"}),"Completion"]})}),e.jsxs(w,{children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[t.completionRate.toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[t.completedTasks," of ",t.totalTasks," completed"]})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-purple-600"}),"MTTR"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:4.2}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Mean Time To Resolution (days)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(D,{children:[e.jsxs(S,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5 text-blue-600"}),"AppSec Remediation Trends"]}),e.jsx(ie,{children:"Remediations for last 30 days"})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:l.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsx("div",{className:"font-medium text-sm w-20",children:d.month}),e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsxs("span",{className:"text-sm text-blue-600",children:["Opened: ",d.opened]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsxs("span",{className:"text-sm text-green-600",children:["Closed: ",d.closed]})]})]}),e.jsxs("div",{className:`text-sm font-medium px-2 py-1 rounded ${d.net>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[d.net>0?"+":"",d.net]})]},d.month))})})]}),e.jsxs(D,{children:[e.jsxs(S,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5 text-red-600"}),"OffSec Remediation Trends"]}),e.jsx(ie,{children:"Remediations for last 30 days"})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:m.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsx("div",{className:"font-medium text-sm w-20",children:d.month}),e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsxs("span",{className:"text-sm text-red-600",children:["Opened: ",d.opened]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsxs("span",{className:"text-sm text-green-600",children:["Closed: ",d.closed]})]})]}),e.jsxs("div",{className:`text-sm font-medium px-2 py-1 rounded ${d.net>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:[d.net>0?"+":"",d.net]})]},d.month))})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(D,{children:[e.jsxs(S,{children:[e.jsx(A,{children:"MTTR Trend"}),e.jsx(ie,{children:"Mean Time To Remediate vs SLA target (10 days)"})]}),e.jsx(w,{children:e.jsx(Ue,{width:"100%",height:300,children:e.jsxs(ea,{data:x,margin:{top:5,right:30,left:0,bottom:5},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorMTTR",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorSLA",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#16a34a",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#16a34a",stopOpacity:0})]})]}),e.jsx(Ke,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(_e,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),e.jsx(Ge,{stroke:"#6b7280",style:{fontSize:"12px"}}),e.jsx(Je,{content:e.jsx(h,{})}),e.jsx(Xe,{wrapperStyle:{fontSize:"12px",paddingTop:"20px"}}),e.jsx(wt,{type:"monotone",dataKey:"mttr",stroke:"#f97316",strokeWidth:2,fill:"url(#colorMTTR)",name:"MTTR (Actual)"}),e.jsx(we,{type:"monotone",dataKey:"sla",stroke:"#16a34a",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"SLA Target"})]})})})]}),e.jsxs(D,{children:[e.jsxs(S,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-purple-600"}),"Overall Remediation Trends"]}),e.jsx(ie,{children:"Remediation trends for past 30 days"})]}),e.jsx(w,{children:e.jsx(Ue,{width:"100%",height:300,children:e.jsxs(Wt,{data:i,children:[e.jsx(Ke,{strokeDasharray:"3 3"}),e.jsx(_e,{dataKey:"date"}),e.jsx(Ge,{}),e.jsx(Je,{}),e.jsx(Xe,{}),e.jsx(we,{type:"monotone",dataKey:"fixed",stroke:"#10b981",strokeWidth:2,name:"Fixed"}),e.jsx(we,{type:"monotone",dataKey:"created",stroke:"#3b82f6",strokeWidth:2,name:"Created"}),e.jsx(we,{type:"monotone",dataKey:"open",stroke:"#f59e0b",strokeWidth:2,name:"Open"})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(D,{children:[e.jsxs(S,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5 text-orange-600"}),"Top Remediation Tasks"]}),e.jsx(ie,{children:"Most critical remediation tasks requiring immediate attention"})]}),e.jsx(w,{children:e.jsx("div",{className:"space-y-3",children:n.slice(0,3).map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-orange-100 text-orange-600 font-bold text-xs",children:d.priority}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"font-medium text-sm",children:d.title}),e.jsx(E,{variant:d.severity==="Critical"?"destructive":"secondary",className:"text-xs",children:d.severity})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.id," â€¢ ",d.asset]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-xs font-medium text-red-600",children:[d.daysOverdue,"d overdue"]})})]},d.id))})})]}),e.jsxs(D,{children:[e.jsxs(S,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5 text-red-600"}),"SLA Breaches by Severity"]}),e.jsx(ie,{children:"Current SLA breaches broken down by severity level"})]}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-3",children:[p.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded ${d.color}`}),e.jsx("span",{className:"font-medium text-sm",children:d.severity})]}),e.jsx(E,{variant:"secondary",className:d.textColor,children:d.count})]},d.severity)),e.jsx("div",{className:"pt-3 border-t",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Breaches"}),e.jsx(E,{variant:"destructive",children:p.reduce((d,j)=>d+j.count,0)})]})})]})})]})]})]})}function St({task:t,open:s,onOpenChange:n}){if(!t)return null;const l=i=>{switch(i){case"Critical":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"High":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"Low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}},m=i=>{switch(i){case"Done":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"In Progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"To Do":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";case"Blocked":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"In Review":return"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200";default:return"bg-gray-100 text-gray-800"}},h=(i=>({appsec:{label:"AppSec",color:"bg-blue-100 text-blue-800"},offsec:{label:"OffSec",color:"bg-red-100 text-red-800"},remediation:{label:"Remediation",color:"bg-purple-100 text-purple-800"},current:{label:"Current",color:"bg-green-100 text-green-800"}})[i]||{label:i,color:"bg-gray-100 text-gray-800"})(t.category);return e.jsx(Vt,{open:s,onOpenChange:n,children:e.jsxs(Ut,{className:"w-screen max-h-[90vh] overflow-y-auto",children:[e.jsx(Kt,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs(_t,{className:"text-xl font-semibold mb-2 leading-tight",children:[e.jsx("span",{className:"text-xs text-muted-foreground mr-2 font-normal",children:t.key}),t.title]}),e.jsx(Gt,{className:"text-base leading-relaxed",children:t.description})]}),e.jsx(B,{variant:"ghost",size:"sm",onClick:()=>n(!1),className:"h-8 w-8 p-0 flex-shrink-0",children:e.jsx(Oe,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Priority"})}),e.jsx(w,{className:"pt-0",children:e.jsx(E,{className:l(t.priority),variant:"secondary",children:t.priority})})]}),e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Status"})}),e.jsx(w,{className:"pt-0 flex items-center justify-center",children:e.jsx(E,{className:m(t.status),variant:"secondary",children:t.status})})]}),e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Category"})}),e.jsx(w,{className:"pt-0 flex items-center justify-center",children:e.jsx(E,{className:h.color,variant:"secondary",children:h.label})})]}),e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"CVSS Score"})}),e.jsx(w,{className:"pt-0",children:e.jsx("p",{className:"text-2xl font-bold",children:t.cvssScore||"N/A"})})]})]}),e.jsxs(rt,{defaultValue:"details",className:"w-full",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsx(me,{value:"details",children:"Details"}),e.jsx(me,{value:"assignment",children:"Assignment"}),e.jsx(me,{value:"timeline",children:"Timeline"})]}),e.jsxs(xe,{value:"details",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-sm font-semibold",children:"Task Information"})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(de,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-sm font-medium",children:"Due Date:"}),e.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:t.dueDate?new Date(t.dueDate).toLocaleDateString():"No due date"})]})]}),t.source&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-sm font-medium",children:"Source:"}),e.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:t.source})]})]})]})]}),e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-sm font-semibold",children:"Asset/Host Details"})}),e.jsxs(w,{className:"space-y-4",children:[t.assetHostDetails&&e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm font-medium",children:"Asset/Host:"}),e.jsx("span",{className:"text-sm font-mono bg-muted px-2 py-1 rounded max-w-[200px] break-all",children:t.assetHostDetails})]}),t.vulnerableComponent&&e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm font-medium",children:"Vulnerable Component:"}),e.jsx("span",{className:"text-sm font-mono bg-muted px-2 py-1 rounded max-w-[200px] break-all",children:t.vulnerableComponent})]}),!t.assetHostDetails&&!t.vulnerableComponent&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"No asset/host details available"})]})]})]}),t.vulnerableInstances&&t.vulnerableInstances.length>0&&e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-sm font-semibold",children:"Vulnerable Instances"})}),e.jsx(w,{children:e.jsx("div",{className:"space-y-2",children:t.vulnerableInstances.map((i,p)=>e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(E,{variant:"outline",className:"text-xs font-mono bg-red-50 text-red-700 border-red-200",children:i})},p))})})]}),t.labels&&t.labels.length>0&&e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-sm font-semibold",children:"Labels"})}),e.jsx(w,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.labels.map((i,p)=>e.jsx(E,{variant:"outline",className:"text-xs",children:i},p))})})]})]}),e.jsx(xe,{value:"assignment",className:"space-y-4 mt-6",children:e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-sm font-semibold",children:"Assignment Details"})}),e.jsx(w,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ve,{className:"h-12 w-12 flex-shrink-0",children:[e.jsx(ye,{src:t.assigneeAvatar}),e.jsx(be,{className:"text-sm",children:t.assignee?t.assignee.split(" ").map(i=>i[0]).join("").toUpperCase():"UN"})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-base",children:t.assignee||"Unassigned"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.department||"No department"})]})]})})]})}),e.jsx(xe,{value:"timeline",className:"space-y-4 mt-6",children:e.jsxs(D,{className:"border",children:[e.jsx(S,{className:"pb-3",children:e.jsx(A,{className:"text-sm font-semibold",children:"Task Timeline"})}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(de,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-sm font-medium",children:"Created:"}),e.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:new Date(t.createdDate).toLocaleDateString()})]})]}),t.updatedDate&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(de,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-sm font-medium",children:"Last Updated:"}),e.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:new Date(t.updatedDate).toLocaleDateString()})]})]}),t.dueDate&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(de,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-sm font-medium",children:"Due Date:"}),e.jsxs("span",{className:`text-sm ml-2 ${new Date(t.dueDate)<new Date&&t.status!=="Done"?"text-red-600 font-medium":"text-muted-foreground"}`,children:[new Date(t.dueDate).toLocaleDateString(),new Date(t.dueDate)<new Date&&t.status!=="Done"&&e.jsx("span",{className:"ml-1 text-xs bg-red-100 text-red-700 px-2 py-0.5 rounded",children:"Overdue"})]})]})]})]})]})})]})]})]})})}function sa({tasks:t}){const s=t.filter(a=>a.category==="appsec"),n=s.filter(a=>a.type?.includes("Vulnerability Fix")||a.type?.includes("Patch Management")||a.type?.includes("Security Implementation")||a.type?.includes("Security Configuration")||a.labels?.some(o=>o.includes("remediation")||o.includes("fix")||o.includes("patch")||o.includes("vulnerability"))),[l,m]=c.useState("all"),[x,h]=c.useState("all"),[i,p]=c.useState("all"),[d,j]=c.useState("list"),[y,C]=c.useState(1),[g,O]=c.useState(null),[U,$]=c.useState(!1),[J,K]=c.useState("priority"),[_,T]=c.useState("desc"),[z,H]=c.useState(0),[W,P]=c.useState(new Date().toISOString()),[F,X]=c.useState(null),k=10,V=a=>{switch(a){case"Critical":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"High":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"Low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},Q=a=>a.split(" ").map(o=>o[0]).join("").toUpperCase(),I=n.filter(a=>{const o=l==="all"||a.status===l,u=x==="all"||a.priority===x,M=i==="all"||a.createdDate.startsWith(i);return o&&u&&M}).sort((a,o)=>{let u,M;switch(J){case"priority":const N={Critical:4,High:3,Medium:2,Low:1};u=N[a.priority]||0,M=N[o.priority]||0;break;case"status":u=a.status,M=o.status;break;case"updated":u=new Date(a.updatedDate||a.createdDate),M=new Date(o.updatedDate||o.createdDate);break;case"created":u=new Date(a.createdDate),M=new Date(o.createdDate);break;default:return 0}return _==="asc"?u>M?1:u<M?-1:0:u<M?1:u>M?-1:0}),G=Math.ceil(I.length/k),te=(y-1)*k,q=te+k,Ne=I.slice(te,q),De=(a,o)=>{a==="status"?m(o):h(o),C(1)},he=a=>{O(a),$(!0)},r={total:s.length,todo:s.filter(a=>a.status==="To Do").length,inProgress:s.filter(a=>a.status==="In Progress").length,inReview:s.filter(a=>a.status==="In Review").length,completed:s.filter(a=>a.status==="Done").length,blocked:s.filter(a=>a.status==="Blocked").length,critical:s.filter(a=>a.priority==="Critical").length,high:s.filter(a=>a.priority==="High").length,medium:s.filter(a=>a.priority==="Medium").length,low:s.filter(a=>a.priority==="Low").length,overdue:s.filter(a=>!a.dueDate||a.status==="Done"?!1:new Date(a.dueDate)<new Date).length,totalStoryPoints:s.reduce((a,o)=>a+(o.storyPoints||0),0),completedStoryPoints:s.filter(a=>a.status==="Done").reduce((a,o)=>a+(o.storyPoints||0),0),totalEstimatedHours:s.reduce((a,o)=>a+(o.estimatedHours||0),0),actualHours:s.reduce((a,o)=>a+(o.actualHours||0),0)},v=r.total>0?r.completed/r.total*100:0,f=3.8,R=a=>{switch(a){case"Done":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"In Progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"To Do":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"Blocked":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"In Review":return"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4 text-blue-600"}),"Total Remediation Items"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold",children:r.total}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AppSec vulnerability fixes (open + completed)"})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-yellow-600"}),"SLA Approaching"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:Math.floor(r.overdue*.3)}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Tasks approaching SLA deadline"})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-red-600"}),"SLA Breaches"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:r.overdue}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Tasks past SLA deadline"})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4 text-green-600"}),"Completion"]})}),e.jsxs(w,{children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[v.toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[r.completed," of ",r.total," completed"]})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-purple-600"}),"MTTR"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:f}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Mean Time To Resolution (days)"})]})]})]}),e.jsxs(D,{children:[e.jsxs(S,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"AppSec Remediation Items",e.jsxs(E,{variant:"outline",children:[I.length," items"]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("select",{value:l,onChange:a=>De("status",a.target.value),className:"px-3 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"To Do",children:"To Do"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"In Review",children:"In Review"}),e.jsx("option",{value:"Done",children:"Done"}),e.jsx("option",{value:"Blocked",children:"Blocked"})]}),e.jsxs("select",{value:x,onChange:a=>De("priority",a.target.value),className:"px-3 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Priority"}),e.jsx("option",{value:"Critical",children:"Critical"}),e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"Low",children:"Low"})]}),e.jsxs("select",{value:i,onChange:a=>p(a.target.value),className:"px-3 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Time"}),e.jsx("option",{value:"2026-01",children:"January 2026"}),e.jsx("option",{value:"2025-12",children:"December 2025"}),e.jsx("option",{value:"2025-11",children:"November 2025"}),e.jsx("option",{value:"2025-10",children:"October 2025"}),e.jsx("option",{value:"2025-09",children:"September 2025"}),e.jsx("option",{value:"2025-08",children:"August 2025"}),e.jsx("option",{value:"2025-07",children:"July 2025"}),e.jsx("option",{value:"2025-06",children:"June 2025"})]}),e.jsxs("select",{value:`${J}-${_}`,onChange:a=>{const[o,u]=a.target.value.split("-");K(o),T(u)},className:"px-3 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"priority-desc",children:"Priority (High to Low)"}),e.jsx("option",{value:"priority-asc",children:"Priority (Low to High)"}),e.jsx("option",{value:"status-asc",children:"Status (A to Z)"}),e.jsx("option",{value:"status-desc",children:"Status (Z to A)"}),e.jsx("option",{value:"updated-desc",children:"Recently Updated"}),e.jsx("option",{value:"updated-asc",children:"Least Recently Updated"}),e.jsx("option",{value:"created-desc",children:"Newest First"}),e.jsx("option",{value:"created-asc",children:"Oldest First"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx(B,{size:"sm",variant:d==="list"?"default":"outline",onClick:()=>j("list"),children:"List"}),e.jsx(B,{size:"sm",variant:d==="board"?"default":"outline",onClick:()=>j("board"),children:"Board"}),e.jsx(B,{size:"sm",variant:d==="timeline"?"default":"outline",onClick:()=>j("timeline"),children:"Timeline"})]})]})]}),e.jsxs(w,{children:[d==="list"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 bg-muted/50 rounded-t-lg font-medium text-sm text-muted-foreground",children:[e.jsx("div",{className:"col-span-1",children:"Type"}),e.jsx("div",{className:"col-span-4",children:"Summary"}),e.jsx("div",{className:"col-span-1",children:"Priority"}),e.jsx("div",{className:"col-span-1",children:"Status"}),e.jsx("div",{className:"col-span-2",children:"Assignee"}),e.jsx("div",{className:"col-span-1",children:"Due Date"}),e.jsx("div",{className:"col-span-2",children:"Actions"})]}),Ne.map(a=>e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 border-b hover:bg-muted/30 transition-colors",children:[e.jsx("div",{className:"col-span-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:a.key})]})}),e.jsx("div",{className:"col-span-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-medium text-sm hover:text-blue-600 cursor-pointer",children:a.title}),a.description&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:a.description})]})}),e.jsx("div",{className:"col-span-1",children:e.jsx(E,{className:V(a.priority),children:a.priority})}),e.jsx("div",{className:"col-span-1",children:e.jsx(E,{className:R(a.status),children:a.status})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ve,{className:"h-6 w-6",children:[e.jsx(ye,{src:a.assigneeAvatar}),e.jsx(be,{className:"text-xs",children:a.assignee?Q(a.assignee):"UN"})]}),e.jsx("span",{className:"text-sm",children:a.assignee||"Unassigned"})]})}),e.jsx("div",{className:"col-span-1",children:a.dueDate?e.jsx("span",{className:"text-sm",children:new Date(a.dueDate).toLocaleDateString()}):e.jsx("span",{className:"text-muted-foreground",children:"No due date"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(B,{size:"sm",variant:"ghost",onClick:()=>he(a),children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsx(B,{size:"sm",variant:"ghost",children:e.jsx(ht,{className:"h-4 w-4"})})]})})]},a.id)),G>1&&e.jsxs("div",{className:"flex items-center justify-between p-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",te+1," to ",Math.min(q,I.length)," of ",I.length," items"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{size:"sm",variant:"outline",onClick:()=>C(a=>Math.max(a-1,1)),disabled:y===1,children:"Previous"}),e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(G,7)},(a,o)=>{let u;return G<=7||y<=4?u=o+1:y>=G-3?u=G-6+o:u=y-3+o,e.jsx(B,{size:"sm",variant:y===u?"default":"outline",onClick:()=>C(u),className:"w-8 h-8 p-0",children:u},u)})}),e.jsx(B,{size:"sm",variant:"outline",onClick:()=>C(a=>Math.min(a+1,G)),disabled:y===G,children:"Next"})]})]}),Ne.length===0&&I.length>0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(oe,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No items on this page"}),e.jsx("p",{className:"text-sm",children:"Try changing filters or going to a different page"})]}),I.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(oe,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No AppSec remediation items found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})]}),d==="board"&&e.jsx("div",{className:"space-y-6",children:[{status:"SLA Breached",color:"bg-red-500",filter:a=>{if(!a.dueDate||a.status==="Done")return!1;const o=new Date(a.dueDate),u=new Date;return o.toDateString()===u.toDateString()||o<u}},{status:"SLA Approaching",color:"bg-amber-500",filter:a=>{if(!a.dueDate||a.status==="Done")return!1;const o=new Date(a.dueDate),u=new Date,M=new Date(o.getTime()-4320*60*1e3),N=Math.floor((o.getTime()-u.getTime())/(1e3*60*60*24));return M.toDateString()===u.toDateString()&&N>0}},{status:"In Progress",color:"bg-blue-500",filter:a=>a.status==="In Progress"||a.status==="In Review"},{status:"To Do",color:"bg-gray-400",filter:a=>a.status==="To Do"},{status:"Done",color:"bg-green-500",filter:a=>a.status==="Done"},{status:"Blocked",color:"bg-red-500",filter:a=>a.status==="Blocked"}].map(a=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-muted/50 to-muted/30 rounded-lg border border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.color}`}),e.jsx("h3",{className:"font-semibold text-sm",children:a.status})]}),e.jsx(E,{variant:"secondary",className:"font-medium",children:I.filter(a.filter).length})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{variant:"outline",size:"sm",className:"flex-shrink-0",onClick:()=>{const o=document.getElementById(`scroll-container-${a.status}`);o&&o.scrollBy({left:-300,behavior:"smooth"})},children:e.jsx(Ee,{className:"h-4 w-4"})}),e.jsxs("div",{id:`scroll-container-${a.status}`,className:"flex gap-3 overflow-x-auto scrollbar-hide scroll-smooth p-1 bg-gradient-to-b from-background to-muted/20 rounded-xl border border-muted-foreground/20",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[I.filter(a.filter).map(o=>e.jsx(D,{className:"group cursor-pointer hover:shadow-lg hover:scale-[1.02] transition-all duration-200 border-border/50 bg-gradient-to-br from-card to-card/80 flex-shrink-0 w-80",onClick:()=>he(o),children:e.jsxs(w,{className:"p-4 space-y-3",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("span",{className:"text-xs font-mono text-muted-foreground bg-muted/50 px-2 py-1 rounded",children:o.key}),e.jsx(E,{className:`${V(o.priority)} text-xs font-medium shrink-0`,children:o.priority})]})}),e.jsx("h4",{className:"font-medium text-sm leading-tight line-clamp-2 group-hover:text-primary transition-colors",children:o.title}),o.description&&e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed line-clamp-2",children:o.description}),o.labels&&o.labels.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.labels.slice(0,2).map((u,M)=>e.jsx(E,{variant:"outline",className:"text-xs bg-background/50",children:u},M)),o.labels.length>2&&e.jsxs(E,{variant:"outline",className:"text-xs bg-background/50",children:["+",o.labels.length-2]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ve,{className:"h-6 w-6 ring-2 ring-background",children:[e.jsx(ye,{src:o.assigneeAvatar}),e.jsx(be,{className:"text-xs font-medium",children:o.assignee?Q(o.assignee):"UN"})]}),e.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[80px]",children:o.assignee||"Unassigned"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o.storyPoints&&e.jsxs(E,{variant:"outline",className:"text-xs bg-primary/10 text-primary border-primary/20",children:[o.storyPoints," SP"]}),o.status==="In Review"&&e.jsx(E,{variant:"outline",className:"text-xs bg-amber-50 text-amber-700 border-amber-200",children:"Review"})]})]})]})},o.id)),I.filter(a.filter).length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center w-80 h-48 text-muted-foreground/50 border-2 border-dashed border-muted-foreground/20 rounded-xl",children:[e.jsx("div",{className:`w-8 h-8 rounded-full mb-2 ${a.status==="To Do"?"bg-gray-200":a.status==="In Progress"?"bg-blue-100":a.status==="Done"?"bg-green-100":a.status==="SLA Breached"?"bg-red-100":a.status==="SLA Approaching"?"bg-amber-100":"bg-red-100"}`}),e.jsx("p",{className:"text-xs",children:"No tasks"})]})]}),e.jsx(B,{variant:"outline",size:"sm",className:"flex-shrink-0",onClick:()=>{const o=document.getElementById(`scroll-container-${a.status}`);o&&o.scrollBy({left:300,behavior:"smooth"})},children:e.jsx(fe,{className:"h-4 w-4"})})]})})]},a.status))}),d==="timeline"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{const a=new Date(W);a.setMonth(a.getMonth()-1),P(a.toISOString())},className:"flex items-center gap-1",children:[e.jsx(Ee,{className:"h-4 w-4"}),"Previous Month"]}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-sm font-medium",children:new Date(W).toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{const a=new Date(W);a.setMonth(a.getMonth()+1),P(a.toISOString())},className:"flex items-center gap-1",children:["Next Month",e.jsx(fe,{className:"h-4 w-4"})]})]}),e.jsxs("div",{className:"border rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-7 bg-muted/30 border-b",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(a=>e.jsx("div",{className:"p-3 text-center text-sm font-semibold text-muted-foreground border-r last:border-r-0",children:a},a))}),e.jsx("div",{className:"grid grid-cols-7 bg-background",children:(()=>{const a=new Date(W);a.setDate(1);const o=new Date(a);o.setDate(o.getDate()-a.getDay());const u=[],M=new Date;for(let N=0;N<42;N++){const b=new Date(o);b.setDate(o.getDate()+N);const Y=b.getMonth()===a.getMonth(),se=b.toDateString()===M.toDateString(),ae=[];I.forEach(L=>{new Date(L.createdDate).toDateString()===b.toDateString()&&ae.push({type:"created",task:L,title:`Created: ${L.key}`,color:L.priority==="Critical"?"bg-red-500":L.priority==="High"?"bg-orange-500":L.priority==="Medium"?"bg-yellow-500":"bg-blue-500"})}),I.forEach(L=>{L.dueDate&&L.status!=="Done"&&new Date(L.dueDate).toDateString()===b.toDateString()&&ae.push({type:"sla-breached",task:L,title:`SLA Breached: ${L.key}`,color:"bg-red-600"})}),I.forEach(L=>{if(L.dueDate&&L.status!=="Done"){const ke=new Date(L.dueDate);new Date(ke.getTime()-4320*60*1e3).toDateString()===b.toDateString()&&ae.push({type:"sla-approaching",task:L,title:`SLA Approaching: ${L.key}`,color:"bg-amber-500"})}}),u.push({date:b,isCurrentMonth:Y,isToday:se,events:ae})}return u.map((N,b)=>{const Y=N.events.length,se=Y>0;return e.jsxs("div",{onClick:()=>se&&X(N.date.toISOString()),className:`min-h-[100px] p-3 border-r border-b last:border-r-0 cursor-pointer transition-all duration-200 ${N.isCurrentMonth?"bg-background":"bg-muted/20 text-muted-foreground"} ${N.isToday?"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/30 dark:to-emerald-950/20":""} ${se?"hover:bg-muted/30 hover:shadow-sm":""} ${b%7===6||b%7===0?"border-l":""}`,children:[e.jsx("div",{className:`text-sm font-bold mb-2 ${N.isToday?"text-emerald-600 dark:text-emerald-400":""} ${N.isCurrentMonth?"":"opacity-50"}`,children:N.date.getDate()}),se&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:(()=>{const ae=new Set;return N.events.forEach(L=>ae.add(L.type)),Array.from(ae).map(L=>e.jsxs("div",{className:"w-5 h-5 flex items-center justify-center rounded transition-transform hover:scale-110",title:`${L} events`,children:[L==="created"&&e.jsx(Ie,{className:"w-4 h-4 text-blue-600"}),L==="sla-breached"&&e.jsx(ee,{className:"w-4 h-4 text-red-600"}),L==="sla-approaching"&&e.jsx(re,{className:"w-4 h-4 text-yellow-600"})]},L))})()}),e.jsxs("div",{className:"text-xs text-muted-foreground font-medium",children:[Y," event",Y!==1?"s":""]})]})]},b)})})()})]}),F&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background rounded-2xl shadow-2xl max-w-3xl w-full max-h-[85vh] overflow-hidden border",children:[e.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-emerald-50 to-blue-50 dark:from-emerald-950/20 dark:to-blue-950/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:new Date(F).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[I.filter(a=>new Date(a.createdDate).toDateString()===new Date(F).toDateString()).length," tasks found"]})]}),e.jsx(B,{variant:"ghost",size:"sm",onClick:()=>X(null),className:"rounded-full hover:bg-muted/80",children:e.jsx(Oe,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:e.jsxs("div",{className:"space-y-3",children:[(()=>{const a=[],o=new Date(F);return I.forEach(u=>{if(new Date(u.createdDate).toDateString()===o.toDateString()&&a.push({type:"created",task:u,title:`Created: ${u.key}`,description:"Task created on this day",color:u.priority==="Critical"?"bg-red-500":u.priority==="High"?"bg-orange-500":u.priority==="Medium"?"bg-yellow-500":"bg-blue-500"}),u.dueDate&&u.status!=="Done"){const N=new Date(u.dueDate);N.toDateString()===o.toDateString()&&a.push({type:"sla-breached",task:u,title:`SLA Breached: ${u.key}`,description:"Task missed its SLA deadline",color:"bg-red-600"}),new Date(N.getTime()-4320*60*1e3).toDateString()===o.toDateString()&&a.push({type:"sla-approaching",task:u,title:`SLA Approaching: ${u.key}`,description:"SLA deadline in 3 days",color:"bg-amber-500"})}}),a.sort((u,M)=>{const N={"sla-breached":0,"sla-approaching":1,created:2};return N[u.type]-N[M.type]}),a.map((u,M)=>e.jsx("div",{onClick:()=>he(u.task),className:"p-4 border rounded-xl cursor-pointer hover:shadow-md hover:border-emerald-200 dark:hover:border-emerald-800 transition-all duration-200 bg-gradient-to-r from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-5 h-5 flex items-center justify-center rounded",children:[u.type==="created"&&e.jsx(Ie,{className:"w-4 h-4 text-blue-600"}),u.type==="sla-breached"&&e.jsx(ee,{className:"w-4 h-4 text-red-600"}),u.type==="sla-approaching"&&e.jsx(re,{className:"w-4 h-4 text-yellow-600"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm",children:u.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u.description}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u.task.title})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{variant:"outline",className:"text-xs font-medium",children:u.task.priority}),e.jsx(fe,{className:"h-4 w-4 text-muted-foreground"})]})]})},M))})(),(()=>{const a=new Date(F);return I.some(u=>{if(new Date(u.createdDate).toDateString()===a.toDateString())return!0;if(u.dueDate&&u.status!=="Done"){const N=new Date(u.dueDate),Y=Math.floor((new Date().getTime()-N.getTime())/(1e3*60*60*24));if(Y===0&&N.toDateString()===a.toDateString()||new Date(N.getTime()-4320*60*1e3).toDateString()===a.toDateString()&&Y<0)return!0}return!1})?null:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:e.jsx(de,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("p",{className:"text-muted-foreground",children:"No events found for this day"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try selecting a different date"})]})})()]})})]})})]})]})]}),e.jsx(St,{task:g,open:U,onOpenChange:$})]})}function aa({tasks:t}){const s=t.filter(r=>r.category==="offsec"),[n,l]=c.useState("all"),[m,x]=c.useState("all"),[h,i]=c.useState("all"),[p,d]=c.useState("list"),[j,y]=c.useState(1),[C,g]=c.useState(null),[O,U]=c.useState(!1),[$,J]=c.useState("priority"),[K,_]=c.useState("desc"),[T,z]=c.useState(new Date().toISOString()),[H,W]=c.useState(null),P=10,F=r=>{switch(r){case"Critical":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"High":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"Medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"Low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},X=r=>r.split(" ").map(v=>v[0]).join("").toUpperCase(),k=s.filter(r=>{const v=n==="all"||r.status===n,f=m==="all"||r.priority===m,R=h==="all"||r.createdDate.startsWith(h);return v&&f&&R}).sort((r,v)=>{let f,R;switch($){case"priority":const a={Critical:4,High:3,Medium:2,Low:1};f=a[r.priority]||0,R=a[v.priority]||0;break;case"status":f=r.status,R=v.status;break;case"updated":f=new Date(r.updatedDate||r.createdDate),R=new Date(v.updatedDate||v.createdDate);break;case"created":f=new Date(r.createdDate),R=new Date(v.createdDate);break;default:return 0}return K==="asc"?f>R?1:f<R?-1:0:f<R?1:f>R?-1:0});Math.ceil(k.length/P);const V=(j-1)*P,Q=V+P,I=k.slice(V,Q),G=(r,v)=>{r==="status"?l(v):x(v),y(1)},te=r=>{g(r),U(!0)},q={total:s.length,todo:s.filter(r=>r.status==="To Do").length,inProgress:s.filter(r=>r.status==="In Progress").length,inReview:s.filter(r=>r.status==="In Review").length,completed:s.filter(r=>r.status==="Done").length,blocked:s.filter(r=>r.status==="Blocked").length,critical:s.filter(r=>r.priority==="Critical").length,high:s.filter(r=>r.priority==="High").length,medium:s.filter(r=>r.priority==="Medium").length,low:s.filter(r=>r.priority==="Low").length,overdue:s.filter(r=>!r.dueDate||r.status==="Done"?!1:new Date(r.dueDate)<new Date).length},Ne=q.total>0?q.completed/q.total*100:0,De=5.2,he=r=>{switch(r){case"Done":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"In Progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"To Do":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"Blocked":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"In Review":return"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(pe,{className:"h-4 w-4 text-blue-600"}),"Total Remediation Items"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold",children:q.total}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"OffSec remediation items (completed + ongoing)"})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-yellow-600"}),"SLA Approaching"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:q.blocked}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Need immediate attention"})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-red-600"}),"SLA Breaches"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600",children:q.overdue}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Past SLA deadline"})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4 text-green-600"}),"Completion"]})}),e.jsxs(w,{children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[Ne.toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[q.completed," of ",q.total," completed"]})]})]}),e.jsxs(D,{children:[e.jsx(S,{className:"pb-3",children:e.jsxs(A,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-purple-600"}),"MTTR"]})}),e.jsxs(w,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:De}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Mean Time To Resolution (days)"})]})]})]}),e.jsxs(D,{children:[e.jsxs(S,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-5 w-5"}),"OffSec Security Assessments",e.jsxs(E,{variant:"outline",children:[k.length," items"]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("select",{value:n,onChange:r=>G("status",r.target.value),className:"px-3 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"To Do",children:"To Do"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"In Review",children:"In Review"}),e.jsx("option",{value:"Done",children:"Done"}),e.jsx("option",{value:"Blocked",children:"Blocked"})]}),e.jsxs("select",{value:m,onChange:r=>G("priority",r.target.value),className:"px-3 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Priority"}),e.jsx("option",{value:"Critical",children:"Critical"}),e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"Low",children:"Low"})]}),e.jsxs("select",{value:`${$}-${K}`,onChange:r=>{const[v,f]=r.target.value.split("-");J(v),_(f)},className:"px-3 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"priority-desc",children:"Priority (High to Low)"}),e.jsx("option",{value:"priority-asc",children:"Priority (Low to High)"}),e.jsx("option",{value:"status-asc",children:"Status (A to Z)"}),e.jsx("option",{value:"status-desc",children:"Status (Z to A)"}),e.jsx("option",{value:"updated-desc",children:"Recently Updated"}),e.jsx("option",{value:"updated-asc",children:"Least Recently Updated"}),e.jsx("option",{value:"created-desc",children:"Newest First"}),e.jsx("option",{value:"created-asc",children:"Oldest First"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx(B,{size:"sm",variant:p==="list"?"default":"outline",onClick:()=>d("list"),children:"List"}),e.jsx(B,{size:"sm",variant:p==="board"?"default":"outline",onClick:()=>d("board"),children:"Board"}),e.jsx(B,{size:"sm",variant:p==="timeline"?"default":"outline",onClick:()=>d("timeline"),children:"Timeline"})]})]})]}),e.jsxs(w,{children:[p==="list"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 bg-muted/50 rounded-t-lg font-medium text-sm text-muted-foreground",children:[e.jsx("div",{className:"col-span-1",children:"Type"}),e.jsx("div",{className:"col-span-4",children:"Summary"}),e.jsx("div",{className:"col-span-1",children:"Priority"}),e.jsx("div",{className:"col-span-1",children:"Status"}),e.jsx("div",{className:"col-span-2",children:"Assignee"}),e.jsx("div",{className:"col-span-1",children:"Due Date"}),e.jsx("div",{className:"col-span-2",children:"Actions"})]}),I.map(r=>e.jsxs("div",{className:"grid grid-cols-12 gap-4 p-3 border-b hover:bg-muted/30 transition-colors",children:[e.jsx("div",{className:"col-span-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:r.key})]})}),e.jsx("div",{className:"col-span-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-medium text-sm hover:text-blue-600 cursor-pointer",children:r.title}),r.description&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:r.description})]})}),e.jsx("div",{className:"col-span-1",children:e.jsx(E,{className:F(r.priority),children:r.priority})}),e.jsx("div",{className:"col-span-1",children:e.jsx(E,{className:he(r.status),children:r.status})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ve,{className:"h-6 w-6",children:[e.jsx(ye,{src:r.assigneeAvatar}),e.jsx(be,{className:"text-xs",children:r.assignee?X(r.assignee):"UN"})]}),e.jsx("span",{className:"text-sm",children:r.assignee||"Unassigned"})]})}),e.jsx("div",{className:"col-span-1",children:r.dueDate?e.jsx("span",{className:"text-sm",children:new Date(r.dueDate).toLocaleDateString()}):e.jsx("span",{className:"text-muted-foreground",children:"No due date"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(B,{size:"sm",variant:"ghost",onClick:()=>te(r),children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsx(B,{size:"sm",variant:"ghost",children:e.jsx(ht,{className:"h-4 w-4"})})]})})]},r.id)),k.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ge,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No OffSec remediation items found"}),e.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]})]}),p==="board"&&e.jsx("div",{className:"space-y-6",children:[{status:"SLA Breached",color:"bg-red-500",filter:r=>{if(!r.dueDate||r.status==="Done")return!1;const v=new Date(r.dueDate),f=new Date;return v.toDateString()===f.toDateString()||v<f}},{status:"SLA Approaching",color:"bg-amber-500",filter:r=>{if(!r.dueDate||r.status==="Done")return!1;const v=new Date(r.dueDate),f=new Date,R=new Date(v.getTime()-4320*60*1e3),a=Math.floor((v.getTime()-f.getTime())/(1e3*60*60*24));return R.toDateString()===f.toDateString()&&a>0}},{status:"In Progress",color:"bg-blue-500",filter:r=>r.status==="In Progress"||r.status==="In Review"},{status:"To Do",color:"bg-gray-400",filter:r=>r.status==="To Do"},{status:"Done",color:"bg-green-500",filter:r=>r.status==="Done"},{status:"Blocked",color:"bg-red-500",filter:r=>r.status==="Blocked"}].map(r=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-muted/50 to-muted/30 rounded-lg border border-border/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r.color}`}),e.jsx("h3",{className:"font-semibold text-sm",children:r.status})]}),e.jsx(E,{variant:"secondary",className:"font-medium",children:k.filter(r.filter).length})]}),e.jsxs("div",{className:"flex gap-3 overflow-x-auto",children:[k.filter(r.filter).map(v=>e.jsx(D,{className:"group cursor-pointer hover:shadow-lg hover:scale-[1.02] transition-all duration-200 border-border/50 bg-gradient-to-br from-card to-card/80 flex-shrink-0 w-80",onClick:()=>te(v),children:e.jsxs(w,{className:"p-4 space-y-3",children:[e.jsx("div",{className:"flex items-start justify-between gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsx("span",{className:"text-xs font-mono text-muted-foreground bg-muted/50 px-2 py-1 rounded",children:v.key}),e.jsx(E,{className:`${F(v.priority)} text-xs font-medium shrink-0`,children:v.priority})]})}),e.jsx("h4",{className:"font-medium text-sm leading-tight line-clamp-2 group-hover:text-primary transition-colors",children:v.title}),v.description&&e.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed line-clamp-2",children:v.description}),e.jsx("div",{className:"flex items-center justify-between pt-2 border-t border-border/50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ve,{className:"h-6 w-6 ring-2 ring-background",children:[e.jsx(ye,{src:v.assigneeAvatar}),e.jsx(be,{className:"text-xs font-medium",children:v.assignee?X(v.assignee):"UN"})]}),e.jsx("span",{className:"text-xs text-muted-foreground truncate max-w-[80px]",children:v.assignee||"Unassigned"})]})})]})},v.id)),k.filter(r.filter).length===0&&e.jsx("div",{className:"flex flex-col items-center justify-center w-80 h-48 text-muted-foreground/50 border-2 border-dashed border-muted-foreground/20 rounded-xl",children:e.jsx("p",{className:"text-xs",children:"No tasks"})})]})]},r.status))}),p==="timeline"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{const r=new Date(T);r.setMonth(r.getMonth()-1),z(r.toISOString())},className:"flex items-center gap-1",children:[e.jsx(Ee,{className:"h-4 w-4"}),"Previous Month"]}),e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-sm font-medium",children:new Date(T).toLocaleDateString("en-US",{month:"long",year:"numeric"})})}),e.jsxs(B,{variant:"outline",size:"sm",onClick:()=>{const r=new Date(T);r.setMonth(r.getMonth()+1),z(r.toISOString())},className:"flex items-center gap-1",children:["Next Month",e.jsx(fe,{className:"h-4 w-4"})]})]}),e.jsxs("div",{className:"border rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"grid grid-cols-7 bg-muted/30 border-b",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(r=>e.jsx("div",{className:"p-3 text-center text-sm font-semibold text-muted-foreground border-r last:border-r-0",children:r},r))}),e.jsx("div",{className:"grid grid-cols-7 bg-background",children:(()=>{const r=new Date(T);r.setDate(1);const v=new Date(r);v.setDate(v.getDate()-r.getDay());const f=[],R=new Date;for(let a=0;a<42;a++){const o=new Date(v);o.setDate(v.getDate()+a);const u=o.getMonth()===r.getMonth(),M=o.toDateString()===R.toDateString(),N=[];k.forEach(b=>{new Date(b.createdDate).toDateString()===o.toDateString()&&N.push({type:"created",task:b,title:`Created: ${b.key}`,color:b.priority==="Critical"?"bg-red-500":b.priority==="High"?"bg-orange-500":b.priority==="Medium"?"bg-yellow-500":"bg-blue-500"})}),k.forEach(b=>{b.dueDate&&b.status!=="Done"&&new Date(b.dueDate).toDateString()===o.toDateString()&&N.push({type:"sla-breached",task:b,title:`SLA Breached: ${b.key}`,color:"bg-red-600"})}),k.forEach(b=>{if(b.dueDate&&b.status!=="Done"){const Y=new Date(b.dueDate);new Date(Y.getTime()-4320*60*1e3).toDateString()===o.toDateString()&&N.push({type:"sla-approaching",task:b,title:`SLA Approaching: ${b.key}`,color:"bg-amber-500"})}}),f.push({date:o,isCurrentMonth:u,isToday:M,events:N})}return f.map((a,o)=>{const u=a.events.length,M=u>0;return e.jsxs("div",{onClick:()=>M&&W(a.date.toISOString()),className:`min-h-[100px] p-3 border-r border-b last:border-r-0 cursor-pointer transition-all duration-200 ${a.isCurrentMonth?"bg-background":"bg-muted/20 text-muted-foreground"} ${a.isToday?"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-950/30 dark:to-emerald-950/20":""} ${M?"hover:bg-muted/30 hover:shadow-sm":""} ${o%7===6||o%7===0?"border-l":""}`,children:[e.jsx("div",{className:`text-sm font-bold mb-2 ${a.isToday?"text-emerald-600 dark:text-emerald-400":""} ${a.isCurrentMonth?"":"opacity-50"}`,children:a.date.getDate()}),M&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:(()=>{const N=new Set;return a.events.forEach(b=>N.add(b.type)),Array.from(N).map(b=>e.jsxs("div",{className:"w-5 h-5 flex items-center justify-center rounded transition-transform hover:scale-110",title:`${b} events`,children:[b==="created"&&e.jsx(pe,{className:"w-4 h-4 text-blue-600"}),b==="sla-breached"&&e.jsx(ee,{className:"w-4 h-4 text-red-600"}),b==="sla-approaching"&&e.jsx(re,{className:"w-4 h-4 text-yellow-600"})]},b))})()}),e.jsxs("div",{className:"text-xs text-muted-foreground font-medium",children:[u," event",u!==1?"s":""]})]})]},o)})})()})]}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background rounded-2xl shadow-2xl max-w-3xl w-full max-h-[85vh] overflow-hidden border",children:[e.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-950/20 dark:to-orange-950/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:new Date(H).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[k.filter(r=>new Date(r.createdDate).toDateString()===new Date(H).toDateString()).length," OffSec assessments found"]})]}),e.jsx(B,{variant:"ghost",size:"sm",onClick:()=>W(null),className:"rounded-full hover:bg-muted/80",children:e.jsx(Oe,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:e.jsxs("div",{className:"space-y-3",children:[(()=>{const r=[],v=new Date(H);return k.forEach(f=>{if(new Date(f.createdDate).toDateString()===v.toDateString()&&r.push({type:"created",task:f,title:`Created: ${f.key}`,description:"OffSec assessment created on this day",color:f.priority==="Critical"?"bg-red-500":f.priority==="High"?"bg-orange-500":f.priority==="Medium"?"bg-yellow-500":"bg-blue-500"}),f.dueDate&&f.status!=="Done"){const a=new Date(f.dueDate);a.toDateString()===v.toDateString()&&r.push({type:"sla-breached",task:f,title:`SLA Breached: ${f.key}`,description:"OffSec assessment missed its SLA deadline",color:"bg-red-600"}),new Date(a.getTime()-4320*60*1e3).toDateString()===v.toDateString()&&r.push({type:"sla-approaching",task:f,title:`SLA Approaching: ${f.key}`,description:"SLA deadline in 3 days",color:"bg-amber-500"})}}),r.sort((f,R)=>{const a={"sla-breached":0,"sla-approaching":1,created:2};return a[f.type]-a[R.type]}),r.map((f,R)=>e.jsx("div",{onClick:()=>te(f.task),className:"p-4 border rounded-xl cursor-pointer hover:shadow-md hover:border-red-200 dark:hover:border-red-800 transition-all duration-200 bg-gradient-to-r from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-5 h-5 flex items-center justify-center rounded",children:[f.type==="created"&&e.jsx(pe,{className:"w-4 h-4 text-blue-600"}),f.type==="sla-breached"&&e.jsx(ee,{className:"w-4 h-4 text-red-600"}),f.type==="sla-approaching"&&e.jsx(re,{className:"w-4 h-4 text-yellow-600"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-sm",children:f.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.task.title})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{variant:"outline",className:"text-xs font-medium",children:f.task.priority}),e.jsx(fe,{className:"h-4 w-4 text-muted-foreground"})]})]})},R))})(),(()=>{const r=new Date(H);return k.some(f=>{if(new Date(f.createdDate).toDateString()===r.toDateString())return!0;if(f.dueDate&&f.status!=="Done"){const a=new Date(f.dueDate),u=Math.floor((new Date().getTime()-a.getTime())/(1e3*60*60*24));if(u===0&&a.toDateString()===r.toDateString()||new Date(a.getTime()-4320*60*1e3).toDateString()===r.toDateString()&&u<0)return!0}return!1})?null:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:e.jsx(de,{className:"w-8 h-8 text-muted-foreground"})}),e.jsx("p",{className:"text-muted-foreground",children:"No events found for this day"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Try selecting a different date"})]})})()]})})]})})]})]})]}),e.jsx(St,{task:C,open:O,onOpenChange:U})]})}const Le=t=>{const s=new Date;return s.setDate(s.getDate()-t),s.toISOString().split("T")[0]},ra=t=>{const s=new Date;return s.setDate(s.getDate()+t),s.toISOString().split("T")[0]},Qe=["Sarah Chen","Mike Johnson","Emily Rodriguez","David Kim","Lisa Wang","James Wilson","Maria Garcia","Robert Taylor","Jennifer Lee","William Brown"],et=["Engineering","DevOps","Security","QA","Infrastructure"],Z=["Web Application Server","API Gateway","Database Server","Load Balancer","Cache Server","Auth Service","Payment Gateway","Email Server","File Storage","Monitoring System","CI/CD Pipeline","Container Registry","VPN Gateway","Firewall","DNS Server"],tt=["SQL Injection","XSS","CSRF","Authentication Bypass","Privilege Escalation","Information Disclosure","Denial of Service","Remote Code Execution","Path Traversal","Buffer Overflow","Insecure Deserialization","Broken Authentication","Sensitive Data Exposure"],je=[];for(let t=0;t<100;t++){const s=["Critical","High","Medium","Low"],n=["To Do","In Progress","In Review","Done","Blocked"],l=["appsec","offsec","remediation"],m=s[Math.floor(Math.random()*s.length)],x=n[Math.floor(Math.random()*n.length)],h=l[Math.floor(Math.random()*l.length)],i=Math.floor(Math.random()*90),p=Math.floor(Math.random()*60)-30;let d="",j="",y="",C="";if(h==="appsec")d=`${tt[Math.floor(Math.random()*tt.length)]} in ${Z[Math.floor(Math.random()*Z.length)]}`,j="Security vulnerability identified requiring immediate remediation to prevent potential exploitation",y="Vulnerability Fix",C="Vulnerability Scanner";else if(h==="offsec"){const g=["Penetration Test","Security Assessment","Vulnerability Assessment","Red Team Exercise","Security Audit"];d=`${g[Math.floor(Math.random()*g.length)]} - ${Z[Math.floor(Math.random()*Z.length)]}`,j="Comprehensive security assessment to identify vulnerabilities and security posture gaps",y="Security Assessment",C="Security Team"}else{const g=["Patch Management","Configuration Fix","Code Review","Security Hardening","Access Control"];d=`${g[Math.floor(Math.random()*g.length)]} - ${Z[Math.floor(Math.random()*Z.length)]}`,j="Remediation task to address identified security vulnerabilities and improve security posture",y="Remediation",C="Remediation Team"}je.push({id:`${h}-${t+1}`,key:`${h.toUpperCase()}-${String(t+1).padStart(3,"0")}`,title:d,description:j,category:h,priority:m,status:x,assignee:Qe[Math.floor(Math.random()*Qe.length)],department:et[Math.floor(Math.random()*et.length)],storyPoints:Math.floor(Math.random()*13)+1,estimatedHours:Math.floor(Math.random()*40)+8,actualHours:x==="Done"?Math.floor(Math.random()*40)+8:Math.floor(Math.random()*30),dueDate:p>0?ra(p):Le(Math.abs(p)),sprint:`sprint-${Math.floor(Math.random()*12)+1}`,labels:[h,m.toLowerCase(),"axion-platform"],type:y,createdDate:Le(i),updatedDate:Le(Math.floor(i*.7)),cvssScore:m==="Critical"?9+Math.random():m==="High"?7+Math.random():m==="Medium"?5+Math.random():3+Math.random(),assetName:Z[Math.floor(Math.random()*Z.length)],source:C,assetHostDetails:`${Z[Math.floor(Math.random()*Z.length)].toLowerCase().replace(/\s+/g,"-")}-axion.example.com`,vulnerableComponent:`${Z[Math.floor(Math.random()*Z.length)]} v${Math.floor(Math.random()*5)+1}`,vulnerableInstances:Array.from({length:Math.floor(Math.random()*3)+1},(g,O)=>`instance-${O+1}`)})}const na=(t=je)=>{const s=t.length,n=t.filter(g=>g.status==="In Progress").length,l=t.filter(g=>g.status==="Done").length,m=t.filter(g=>g.status==="Blocked").length,x=t.filter(g=>g.priority==="High"||g.priority==="Critical").length,h=t.filter(g=>!g.dueDate||g.status==="Done"?!1:new Date(g.dueDate)<new Date).length,i=s>0?l/s*100:0,p=t.filter(g=>g.category==="appsec").length,d=t.filter(g=>g.category==="offsec").length,j=t.filter(g=>g.category==="remediation").length,y=t.filter(g=>g.status==="In Progress"||g.status==="To Do").length,C=t.filter(g=>g.dueDate&&new Date(g.dueDate)>new Date).length;return{totalTasks:s,inProgressTasks:n,completedTasks:l,blockedTasks:m,highPriorityTasks:x,overdueTasks:h,completionRate:i,appSecTasks:p,offSecTasks:d,remediationTasks:j,currentTasks:y,futureTasks:C}},st=[{id:"tenant-1",name:"Production Tenant",type:"tenant"},{id:"tenant-2",name:"Staging Tenant",type:"tenant"},{id:"tenant-3",name:"Development Tenant",type:"tenant"}],ia=[{id:"axion-platform",name:"Axion Security Platform",type:"project",tenantId:"tenant-1"}],at=()=>{const t=[];return st.forEach(s=>{t.push({id:s.id,name:s.name,type:"tenant",level:0})}),ia.forEach(s=>{const n=st.find(l=>l.id===s.tenantId);t.push({id:s.id,name:s.name,type:"project",tenantId:s.tenantId,tenantName:n?.name,level:1})}),t};function la(){const[t,s]=c.useState("overview"),[n,l]=c.useState("axion-platform"),x=(()=>{if(!n)return je;const p=at().find(d=>d.id===n);return p?je.filter(d=>p.type==="project"?d.labels?.includes("project")||Math.random()>.5:d.labels?.includes("tenant")||Math.random()>.6):je})(),h=na(x);return e.jsxs(e.Fragment,{children:[e.jsxs(Mt,{fixed:!0,children:[e.jsx(kt,{}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(Lt,{}),e.jsx(Tt,{}),e.jsx(It,{})]})]}),e.jsxs(Pt,{className:"flex flex-1 flex-col gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Remediation Center"}),e.jsx("p",{className:"text-muted-foreground",children:"Track and manage vulnerability remediation across AppSec and OffSec domains"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ye,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(Et,{value:n,onValueChange:l,children:[e.jsx(Ot,{className:"w-64",children:e.jsx(Rt,{placeholder:"Select asset"})}),e.jsx(Bt,{children:at().map(i=>e.jsx($t,{value:i.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[i.type==="tenant"?e.jsx(Ft,{className:"h-4 w-4 text-green-600"}):e.jsx(Ye,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{children:i.name})]})},i.id))})]})]})]}),e.jsxs(rt,{value:t,onValueChange:s,className:"w-full",children:[e.jsxs(nt,{className:"grid w-full grid-cols-3",children:[e.jsxs(me,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"h-4 w-4"}),"Overview"]}),e.jsxs(me,{value:"appsec",className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"AppSec"]}),e.jsxs(me,{value:"offsec",className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4"}),"OffSec"]})]}),e.jsx(xe,{value:"overview",children:e.jsx(ta,{stats:h})}),e.jsx(xe,{value:"appsec",children:e.jsx(sa,{tasks:x.filter(i=>i.category==="appsec")})}),e.jsx(xe,{value:"offsec",children:e.jsx(aa,{tasks:x.filter(i=>i.category==="offsec")})})]})]})]})}const Za=la;export{Za as component};
