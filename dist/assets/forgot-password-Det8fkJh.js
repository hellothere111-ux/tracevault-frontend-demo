import{u as j,r as n,o as p,j as e,B as l,d as g,L as f,e as b,b as C,t as c}from"./index-ClRrKUtC.js";import{C as F,a as w,b as y,d as N,c as k,e as S}from"./card-CF-0ZApx.js";import{A as v}from"./auth-layout-BWhJxoCa.js";import{u as L,a as P,F as E,b as I,c as A,d as B,e as T,f as R}from"./form-DV7c69uI.js";import{I as q}from"./input-CzXWLKFB.js";import{C as D}from"./circle-check-BA1mJQvN.js";import{L as H}from"./loader-circle-BOSXoQE-.js";import{A as M}from"./arrow-right-Dt2ZMSZU.js";import"./logo-YkF6uqBg.js";import"./label-V7SC6XAG.js";const V=p({email:b({error:s=>s.input===""?"Please enter your email":void 0})});function z({className:s,...m}){const a=j(),[o,i]=n.useState(!1),[d,x]=n.useState(!1),t=L({resolver:P(V),defaultValues:{email:""}});async function u(r){i(!0);try{await C.forgotPassword(r.email),x(!0),c.success("Password reset email sent! Check your inbox for the link."),setTimeout(()=>{a({to:"/sign-in-2",replace:!0})},3e3)}catch(h){c.error(h.message||"Failed to send password reset email"),i(!1)}}return d?e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[e.jsx(D,{className:"h-16 w-16 text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Email sent!"}),e.jsxs("p",{className:"text-center text-sm text-slate-300",children:["Check your email for a password reset link.",e.jsx("br",{}),"The link will expire in 24 hours."]}),e.jsx(l,{variant:"outline",onClick:()=>a({to:"/sign-in-2"}),className:"mt-4",children:"Back to login"})]}):e.jsx(E,{...t,children:e.jsxs("form",{onSubmit:t.handleSubmit(u),className:g("grid gap-2",s),...m,children:[e.jsx(I,{control:t.control,name:"email",render:({field:r})=>e.jsxs(A,{children:[e.jsx(B,{children:"Email"}),e.jsx(T,{children:e.jsx(q,{placeholder:"name@example.com",...r})}),e.jsx(R,{})]})}),e.jsx(l,{className:"mt-2",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:["Continue",e.jsx(M,{})]})}),e.jsx(f,{to:"/sign-in-2",className:"text-sm text-slate-400 hover:text-slate-300 text-center mt-2",children:"Back to sign in"})]})})}function G(){return e.jsx(v,{children:e.jsxs(F,{className:"gap-4 border-slate-700 bg-slate-800",children:[e.jsxs(w,{children:[e.jsx(y,{className:"text-lg tracking-tight",children:"Forgot Password"}),e.jsxs(N,{children:["Enter your registered email and ",e.jsx("br",{})," we will send you a link to reset your password."]})]}),e.jsx(k,{children:e.jsx(z,{})}),e.jsx(S,{children:e.jsx("p",{className:"mx-auto px-8 text-center text-sm text-balance text-muted-foreground",children:"New accounts are created by administrators. If you don't have an account, contact your administrator to request access."})})]})})}const $=G;export{$ as component};
