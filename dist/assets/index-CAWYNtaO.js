import{c as O,j as e,d as ee,r,q as G,B as N,p as se,S as te}from"./index-CyLddbD6.js";import{I as v}from"./input-CXl4TFaQ.js";import{S as J,a as P,b as L,c as F,d as w}from"./select-TQwDUQ4A.js";import{S as M}from"./separator-CrVCV9Cl.js";import{B as z}from"./badge-DHUMdwZJ.js";import{C as S,d as A,a as H,b as _,c as q}from"./card-BTqXV1RT.js";import{a as D,C as ae}from"./config-drawer-D0Lvmk0a.js";import{H as re,S as ne}from"./search-CdXJDppT.js";import{M as le}from"./main-CnnvO0gv.js";import{P as oe}from"./profile-dropdown-BfnLNWIf.js";import{T as ie}from"./theme-switch-BR8ZSlRP.js";import{A as I,b as T}from"./alert-ClUy51Cy.js";import{F as B,G as R,H as Y,I as $,J as K,R as W}from"./confirm-dialog-pAXck9NV.js";import{E as Z}from"./eye-off-DydWkWCO.js";import{E as Q}from"./eye-BIYauoJj.js";import{I as ce}from"./icon-github-CyQgmM8w.js";import{C as de}from"./clock-CXMngBxy.js";import"./index-XYn7pLoo.js";import"./index-De73T7We.js";import"./index-C626fjWP.js";import"./index-d5d2tWRm.js";import"./index-iG58nOgD.js";import"./index-DhnNAsvm.js";import"./check-BxIkDk5N.js";import"./index-BbeBjg-j.js";import"./index-BkYwP1Fm.js";import"./index-CPEMSmfu.js";import"./sign-out-dialog-I2FQ1cpp.js";const me=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],xe=O("arrow-down-a-z",me);const he=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],ue=O("arrow-up-a-z",he);const pe=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],ge=O("sliders-horizontal",pe);function je({className:t,...i}){return e.jsxs("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:ee("[&>path]:stroke-current",t),fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...i,children:[e.jsx("title",{children:"GitLab"}),e.jsx("path",{strokeWidth:"0",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M21 14l-9 7l-9 -7l3 -11l3 7h6l3 -7z"})]})}const E="axion_integrations";function U(t){return btoa(JSON.stringify(t))}function fe(t){try{return JSON.parse(atob(t))}catch{return null}}function ye(t,i){try{const a={...X(),snyk:{apiToken:t,orgId:i,encryptedAt:new Date().toISOString()}},l=U(a);localStorage.setItem(E,l)}catch(u){throw console.error("Failed to store Snyk credentials:",u),new Error("Failed to store credentials securely")}}function Ne(t,i,u){try{const l={...X(),jira:{domain:t,email:i,apiToken:u,encryptedAt:new Date().toISOString()}},o=U(l);localStorage.setItem(E,o)}catch(a){throw console.error("Failed to store Jira credentials:",a),new Error("Failed to store credentials securely")}}function X(){try{const t=localStorage.getItem(E);return t?fe(t)||{}:{}}catch(t){return console.error("Failed to retrieve credentials:",t),{}}}function be({open:t,onOpenChange:i,onConnect:u}){const[a,l]=r.useState(""),[o,d]=r.useState(""),[p,g]=r.useState(!1),[m,b]=r.useState(!1),[c,x]=r.useState(""),[f,n]=r.useState(!1),C=()=>a.trim()?o.trim()?!0:(x("Organization ID is required"),!1):(x("API Token is required"),!1),y=async()=>{if(x(""),!!C()){b(!0);try{await new Promise(s=>setTimeout(s,1500)),ye(a,o),n(!0),u?.({apiToken:a,orgId:o}),setTimeout(()=>{l(""),d(""),n(!1),i(!1)},2e3)}catch{x("Failed to connect to Snyk. Please verify your credentials.")}finally{b(!1)}}},k=()=>{m||(l(""),d(""),x(""),n(!1),i(!1))};return e.jsx(B,{open:t,onOpenChange:k,children:e.jsxs(R,{className:"max-w-md",children:[e.jsxs(Y,{children:[e.jsx($,{children:"Connect Snyk"}),e.jsx(K,{children:"Configure your Snyk account for vulnerability scanning integration"})]}),e.jsxs("div",{className:"space-y-4",children:[f&&e.jsxs(I,{className:"border-green-200 bg-green-50 dark:border-green-900 dark:bg-green-950",children:[e.jsx(D,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),e.jsx(T,{className:"text-green-800 dark:text-green-200",children:"Successfully connected to Snyk!"})]}),c&&e.jsxs(I,{className:"border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-950",children:[e.jsx(G,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),e.jsx(T,{className:"text-red-800 dark:text-red-200",children:c})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-foreground",children:["API Token",e.jsx("span",{className:"text-red-600 dark:text-red-400 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{type:p?"text":"password",placeholder:"Enter your Snyk API token",value:a,onChange:s=>{l(s.target.value),x("")},disabled:m,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:p?e.jsx(Z,{className:"h-4 w-4"}):e.jsx(Q,{className:"h-4 w-4"})})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Find your token at"," ",e.jsx("a",{href:"https://app.snyk.io/account",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"app.snyk.io/account"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Organization ID",e.jsx("span",{className:"text-red-600 dark:text-red-400 ml-1",children:"*"})]}),e.jsx(v,{placeholder:"Enter your Snyk Organization ID",value:o,onChange:s=>{d(s.target.value),x("")},disabled:m}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Find your org ID at"," ",e.jsx("a",{href:"https://app.snyk.io/org",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"app.snyk.io/org"})]})]}),e.jsx(S,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-900 dark:bg-yellow-950",children:e.jsx(A,{className:"pt-4",children:e.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[e.jsx("span",{className:"font-semibold",children:"ðŸ”’ Security Notice:"})," Your API token will be encrypted and stored securely. Never share your token with untrusted sources."]})})})]}),e.jsxs(W,{className:"gap-2",children:[e.jsx(N,{variant:"outline",onClick:k,disabled:m,children:"Cancel"}),e.jsx(N,{onClick:y,disabled:m,className:"min-w-24",children:m?"Connecting...":"Connect"})]})]})})}function ke({open:t,onOpenChange:i,onConnect:u}){const[a,l]=r.useState(""),[o,d]=r.useState(""),[p,g]=r.useState(""),[m,b]=r.useState(!1),[c,x]=r.useState(!1),[f,n]=r.useState(""),[C,y]=r.useState(!1),k=()=>a.trim()?a.includes("atlassian.net")?!o.trim()||!o.includes("@")?(n("Valid email is required"),!1):p.trim()?!0:(n("API Token is required"),!1):(n("Domain must be a valid Jira Cloud instance"),!1):(n("Domain is required (e.g., your-domain.atlassian.net)"),!1),s=async()=>{if(n(""),!!k()){x(!0);try{await new Promise(j=>setTimeout(j,1500)),Ne(a,o,p),y(!0),u?.({domain:a,email:o,apiToken:p}),setTimeout(()=>{l(""),d(""),g(""),y(!1),i(!1)},2e3)}catch{n("Failed to connect to Jira. Please verify your credentials.")}finally{x(!1)}}},h=()=>{c||(l(""),d(""),g(""),n(""),y(!1),i(!1))};return e.jsx(B,{open:t,onOpenChange:h,children:e.jsxs(R,{className:"max-w-md",children:[e.jsxs(Y,{children:[e.jsx($,{children:"Connect Jira"}),e.jsx(K,{children:"Configure your Jira Cloud account for task and sprint management"})]}),e.jsxs("div",{className:"space-y-4",children:[C&&e.jsxs(I,{className:"border-green-200 bg-green-50 dark:border-green-900 dark:bg-green-950",children:[e.jsx(D,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),e.jsx(T,{className:"text-green-800 dark:text-green-200",children:"Successfully connected to Jira!"})]}),f&&e.jsxs(I,{className:"border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-950",children:[e.jsx(G,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),e.jsx(T,{className:"text-red-800 dark:text-red-200",children:f})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Domain",e.jsx("span",{className:"text-red-600 dark:text-red-400 ml-1",children:"*"})]}),e.jsx(v,{placeholder:"your-domain.atlassian.net",value:a,onChange:j=>{l(j.target.value),n("")},disabled:c}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your Jira Cloud instance domain (e.g., acme.atlassian.net)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Email",e.jsx("span",{className:"text-red-600 dark:text-red-400 ml-1",children:"*"})]}),e.jsx(v,{type:"email",placeholder:"your-email@company.com",value:o,onChange:j=>{d(j.target.value),n("")},disabled:c}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Email associated with your Jira account"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-foreground",children:["API Token",e.jsx("span",{className:"text-red-600 dark:text-red-400 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{type:m?"text":"password",placeholder:"Enter your Jira API token",value:p,onChange:j=>{g(j.target.value),n("")},disabled:c,className:"pr-10"}),e.jsx("button",{type:"button",onClick:()=>b(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:m?e.jsx(Z,{className:"h-4 w-4"}):e.jsx(Q,{className:"h-4 w-4"})})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Create at"," ",e.jsx("a",{href:"https://id.atlassian.com/manage-profile/security/api-tokens",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"id.atlassian.com/manage-profile/security/api-tokens"})]})]}),e.jsx(S,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-900 dark:bg-yellow-950",children:e.jsx(A,{className:"pt-4",children:e.jsxs("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[e.jsx("span",{className:"font-semibold",children:"ðŸ”’ Security Notice:"})," Your credentials will be encrypted and stored securely. API tokens are never logged or shared. Revoke access at any time from your Jira settings."]})})})]}),e.jsxs(W,{className:"gap-2",children:[e.jsx(N,{variant:"outline",onClick:h,disabled:c,children:"Cancel"}),e.jsx(N,{onClick:s,disabled:c,className:"min-w-24",children:c?"Connecting...":"Connect"})]})]})})}function ve(){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-full h-full text-blue-600 dark:text-blue-400",children:e.jsx("path",{d:"M19.3 7.5h-4.4L19 2H0v20h10l-3.8-5.5h4.3L4.1 22h19.9V7.5z"})})}const Ce=[{name:"GitHub",logo:e.jsx(ce,{}),connected:!1,desc:"Source code repository and CI/CD integration for DevOps workflows."},{name:"GitLab",logo:e.jsx(je,{}),connected:!1,desc:"GitLab CI/CD pipelines and repository management integration."},{name:"Azure DevOps",logo:e.jsx(ve,{}),connected:!1,desc:"Azure DevOps for project management and CI/CD pipelines."}],V=se("/_authenticated/apps/"),we=new Map([["all","All Apps"],["connected","Connected"],["notConnected","Not Connected"]]);function Se(){const{filter:t="",type:i="all",sort:u="asc"}=V.useSearch(),a=V.useNavigate(),[l,o]=r.useState(u),[d,p]=r.useState(i),[g,m]=r.useState(t),[b,c]=r.useState(!1),[x,f]=r.useState(!1),n=Ce.sort((s,h)=>l==="asc"?s.name.localeCompare(h.name):h.name.localeCompare(s.name)).filter(s=>d==="connected"?s.connected:d==="notConnected"?!s.connected:!0).filter(s=>s.name.toLowerCase().includes(g.toLowerCase())),C=s=>{m(s.target.value),a({search:h=>({...h,filter:s.target.value||void 0})})},y=s=>{p(s),a({search:h=>({...h,type:s==="all"?void 0:s})})},k=s=>{o(s),a({search:h=>({...h,sort:s})})};return e.jsxs(e.Fragment,{children:[e.jsxs(re,{children:[e.jsx(ne,{}),e.jsxs("div",{className:"ms-auto flex items-center gap-4",children:[e.jsx(ie,{}),e.jsx(ae,{}),e.jsx(oe,{})]})]}),e.jsxs(le,{children:[e.jsxs("div",{className:"space-y-6 pb-20",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"App Integrations"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your security and project management integrations"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Security & Project Management"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(S,{className:"border-blue-200 dark:border-blue-800",children:[e.jsx(H,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),"Snyk"]}),e.jsx(q,{children:"Vulnerability Scanning"})]}),e.jsx(z,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Connected"})]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-foreground",children:"Automated vulnerability scanning for SCA, SAST, and DAST analysis"}),e.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),e.jsx("span",{children:"Last scanned: 2 hours ago"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"Active Projects:"}),e.jsx("span",{children:"12"})]})]}),e.jsx(N,{className:"w-full",variant:"outline",size:"sm",onClick:()=>c(!0),children:"Configure"})]})]}),e.jsxs(S,{className:"border-purple-200 dark:border-purple-800",children:[e.jsx(H,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"}),"Jira"]}),e.jsx(q,{children:"Task & Issue Tracking"})]}),e.jsx(z,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Connected"})]})}),e.jsxs(A,{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-foreground",children:"Sync tasks, sprints, and backlog with Jira for seamless project management"}),e.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),e.jsx("span",{children:"Last synced: 30 minutes ago"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:"Active Sprints:"}),e.jsx("span",{children:"3"})]})]}),e.jsx(N,{className:"w-full",variant:"outline",size:"sm",onClick:()=>f(!0),children:"Configure"})]})]})]})]}),e.jsx(M,{className:"my-6"}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"DevOps & Source Control"}),e.jsxs("div",{className:"my-4 flex items-end justify-between sm:my-0 sm:items-center",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:my-4 sm:flex-row",children:[e.jsx(v,{placeholder:"Filter apps...",className:"h-9 w-40 lg:w-[250px]",value:g,onChange:C}),e.jsxs(J,{value:d,onValueChange:y,children:[e.jsx(P,{className:"w-36",children:e.jsx(L,{children:we.get(d)})}),e.jsxs(F,{children:[e.jsx(w,{value:"all",children:"All Apps"}),e.jsx(w,{value:"connected",children:"Connected"}),e.jsx(w,{value:"notConnected",children:"Not Connected"})]})]})]}),e.jsxs(J,{value:l,onValueChange:k,children:[e.jsx(P,{className:"w-16",children:e.jsx(L,{children:e.jsx(ge,{size:18})})}),e.jsxs(F,{align:"end",children:[e.jsx(w,{value:"asc",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ue,{size:16}),e.jsx("span",{children:"Ascending"})]})}),e.jsx(w,{value:"desc",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(xe,{size:16}),e.jsx("span",{children:"Descending"})]})})]})]})]}),e.jsx(M,{className:"shadow-sm"}),e.jsx("div",{className:"grid gap-4 pt-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(s=>e.jsxs("div",{className:"rounded-lg border p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-muted p-2",children:s.logo}),e.jsx(N,{variant:"outline",size:"sm",className:`${s.connected?"border border-blue-300 bg-blue-50 hover:bg-blue-100 dark:border-blue-700 dark:bg-blue-950 dark:hover:bg-blue-900":""}`,children:s.connected?"Connected":"Connect"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-1 font-semibold text-foreground",children:s.name}),e.jsx("p",{className:"line-clamp-2 text-sm text-muted-foreground",children:s.desc})]})]},s.name))})]}),e.jsx(M,{className:"my-6"}),e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Coming Soon"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[{name:"SonarQube",description:"Code quality and security analysis",icon:"ðŸ“Š"},{name:"OAuth 2.0",description:"Enterprise SSO and authentication",icon:"ðŸ”"},{name:"Kubernetes",description:"Container orchestration and deployment",icon:"â˜¸ï¸"},{name:"Terraform",description:"Infrastructure as Code management",icon:"ðŸ—ï¸"},{name:"Datadog",description:"Monitoring and observability platform",icon:"ðŸ“ˆ"},{name:"PagerDuty",description:"Incident response and alerting",icon:"ðŸš¨"}].map(s=>e.jsx(S,{className:"opacity-75",children:e.jsx(A,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:s.icon}),e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:s.description}),e.jsx(z,{variant:"secondary",className:"text-xs",children:"Coming Soon"})]})})},s.name))})]})]}),e.jsx(be,{open:b,onOpenChange:c}),e.jsx(ke,{open:x,onOpenChange:f})]})}const ss=Se;export{ss as component};
