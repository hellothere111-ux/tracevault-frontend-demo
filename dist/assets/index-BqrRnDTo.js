import{c as A,j as e,B as b,S as H,u as he,U as ue,r as o}from"./index-56zHIvP4.js";import{C as m,c as h,a as k,b as w,d as q}from"./card-D7wwC5pU.js";import{C as pe}from"./config-drawer-CR4UNnRj.js";import{H as je,S as ge}from"./search-C7gIQZ6N.js";import{M as ve}from"./main-WxmkDVzP.js";import{T as Ne}from"./top-nav-CYw77V_H.js";import{P as fe}from"./profile-dropdown-BMGjawbx.js";import{T as be}from"./theme-switch-DdRRzvNS.js";import{C as ye,D as ke,g as we,h as Ce,k as I,Q as Te,E as F,F as J,G as B,H as $,I as z,R as G,T as _e}from"./confirm-dialog-B_fuUSe2.js";import{C as Q,S as Se,a as Ee,b as Ae,c as De,d as R,e as Oe}from"./select-CWEKrMcN.js";import{E as Pe}from"./ellipsis-vertical-L3-IYQmt.js";import{P as K}from"./plus-4B8aYBlv.js";import{B as N}from"./badge-CyfkqSj8.js";import{T as W,a as X,b as D,c as O}from"./tabs-BW6UIkIV.js";import{C as V}from"./circle-alert-BU385RDu.js";import{C as Z}from"./calendar-BskLo6TA.js";import{F as Re}from"./file-text-BJ4PfrGG.js";import{C as Me}from"./clock-Cvfjq-J2.js";import{T as Ue}from"./trending-down-DwLikZ3w.js";import{C as Ie}from"./circle-check-big-BfyJn2aA.js";import{A as Ve}from"./activity-DI7DjMWo.js";import{I as U}from"./input-CEMNgzSX.js";import{T as L}from"./textarea-CG3sQ_qZ.js";import{L as M}from"./label-ClCS1tuG.js";import"./index-DrvNfDfh.js";import"./index-CL3RHpjF.js";import"./index-A23mVP4c.js";import"./index-CN1tT10B.js";import"./index-DauprrW0.js";import"./index-CtM8TLbj.js";import"./index-aINuPRfg.js";import"./layout-provider-khT3KwtD.js";import"./rotate-ccw-J8xYqTta.js";import"./circle-check-BFgPnvEU.js";import"./separator-Ljq4K4Wv.js";import"./scroll-area-CWBgreWn.js";import"./index-CHDhLd5N.js";import"./index-1_f954LF.js";import"./sign-out-dialog-7TWPtUMt.js";import"./check-DAb_A7TQ.js";import"./circle-question-mark-Csbv4kaR.js";import"./arrow-right-Dxnzm3rx.js";import"./index-84erwyjk.js";const Ze=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Fe=A("arrow-down",Ze);const Je=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Be=A("chart-pie",Je);const $e=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],ze=A("link-2",$e);const Le=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],He=A("link",Le);const qe=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],Ge=A("radar",qe);const Qe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ke=A("tag",Qe);const We=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Y=A("user",We);var c=(s=>(s.TENANT="tenant",s.PROJECT="project",s.SUB_PROJECT="sub_project",s.ENVIRONMENT="environment",s))(c||{}),S=(s=>(s.DEV="dev",s.STAGING="staging",s.PRODUCTION="production",s.UAT="uat",s.QA="qa",s))(S||{});function Xe({nodes:s,expandedNodes:i,selectedNode:n,onToggleNode:a,onSelectNode:r,onCreateChild:x,onEdit:j,onDelete:g}){const y=t=>{switch(t){case c.TENANT:return"ðŸ¢";case c.PROJECT:return"ðŸ“¦";case c.SUB_PROJECT:return"ðŸ“";case c.ENVIRONMENT:return"ðŸŒ";default:return"ðŸ“„"}},p=t=>{switch(t){case c.TENANT:return"text-blue-600 dark:text-blue-400";case c.PROJECT:return"text-purple-600 dark:text-purple-400";case c.SUB_PROJECT:return"text-green-600 dark:text-green-400";case c.ENVIRONMENT:return"text-orange-600 dark:text-orange-400";default:return"text-gray-600 dark:text-gray-400"}},l=(t,d=0)=>{const v=t.children&&t.children.length>0,C=i.has(t.id),E=n?.id===t.id;return e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-center gap-2 px-2 py-2 rounded-lg cursor-pointer group transition-colors ${E?"bg-accent border-l-2 border-primary":"hover:bg-muted dark:hover:bg-muted/50"}`,style:{marginLeft:`${d*16}px`},onClick:()=>r(t),children:[v?e.jsx("button",{onClick:T=>{T.stopPropagation(),a(t.id)},className:"p-0.5 hover:bg-muted dark:hover:bg-muted/50 rounded",children:C?e.jsx(Q,{className:"h-4 w-4"}):e.jsx(ye,{className:"h-4 w-4"})}):e.jsx("div",{className:"w-5"}),e.jsx("span",{className:"text-lg",children:y(t.type)}),e.jsx("span",{className:`flex-1 font-medium text-foreground ${p(t.type)}`,children:t.name}),t.data?.vulnerabilities_count>0&&e.jsx("span",{className:"text-xs bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 px-2 py-1 rounded-full font-semibold",children:t.data.vulnerabilities_count}),t.data?.risk_score>0&&e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${t.data.risk_score>=8?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":t.data.risk_score>=5?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:["Risk: ",t.data.risk_score]}),e.jsxs(ke,{children:[e.jsx(we,{asChild:!0,children:e.jsx(b,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100",onClick:T=>T.stopPropagation(),children:e.jsx(Pe,{className:"h-4 w-4"})})}),e.jsxs(Ce,{align:"end",children:[t.type!==c.ENVIRONMENT&&e.jsxs(I,{onClick:()=>x(t),children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Add"," ",t.type===c.TENANT?"Project":t.type===c.PROJECT?"Sub-project":"Environment"]}),e.jsx(I,{onClick:()=>j(t),children:"Edit"}),e.jsx(I,{onClick:()=>g(t),className:"text-red-600 dark:text-red-400",children:"Delete"})]})]})]}),v&&C&&e.jsx("div",{children:t.children.map(T=>l(T,d+1))})]},t.id)};return e.jsx("div",{className:"space-y-1",children:s.map(t=>l(t))})}function Ye({node:s,onEdit:i,onDelete:n}){if(!s)return e.jsx(m,{children:e.jsx(h,{className:"pt-6 text-center text-muted-foreground",children:"Select an asset to view details"})});const a=s.data,r=a?.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{className:"text-xl",children:s.name}),e.jsx(q,{children:s.type.charAt(0).toUpperCase()+s.type.slice(1).replace("_"," ")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{size:"sm",variant:"outline",onClick:i,children:"Edit"}),e.jsx(b,{size:"sm",variant:"destructive",onClick:n,children:"Delete"})]})]})}),e.jsxs(h,{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(N,{className:r,children:a?.status==="active"?"Active":"Inactive"})}),a?.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a?.vulnerabilities_count!==void 0&&e.jsxs(m,{children:[e.jsx(k,{className:"pb-2",children:e.jsxs(w,{className:"text-sm flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-red-500"}),"Vulnerabilities"]})}),e.jsx(h,{children:e.jsx("p",{className:"text-2xl font-bold",children:a.vulnerabilities_count})})]}),a?.risk_score!==void 0&&e.jsxs(m,{children:[e.jsx(k,{className:"pb-2",children:e.jsxs(w,{className:"text-sm flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4 text-orange-500"}),"Risk Score"]})}),e.jsx(h,{children:e.jsx("p",{className:"text-2xl font-bold",children:a.risk_score.toFixed(1)})})]})]}),e.jsxs(W,{defaultValue:"info",className:"w-full",children:[e.jsxs(X,{children:[e.jsx(D,{value:"info",children:"Information"}),e.jsx(D,{value:"timeline",children:"Timeline"})]}),e.jsx(O,{value:"info",children:e.jsx(m,{children:e.jsxs(h,{className:"pt-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Created"}),e.jsx("p",{className:"font-medium",children:new Date(a?.created_at||"").toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"font-medium",children:new Date(a?.updated_at||"").toLocaleDateString()})]})]}),s.type===c.ENVIRONMENT&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Environment Type"}),e.jsx(N,{variant:"outline",children:a.type?.toUpperCase()})]}),a.url&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"URL"}),e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm break-all",children:a.url})]})]})]})})}),e.jsx(O,{value:"timeline",children:e.jsx(m,{children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-primary"}),e.jsx("div",{className:"w-0.5 h-12 bg-gray-200"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Created"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(a?.created_at||"").toLocaleString()})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:"h-3 w-3 rounded-full bg-gray-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Last Updated"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(a?.updated_at||"").toLocaleString()})]})]})]})})})})]})]})}function es({node:s}){const i=he();if(!s)return e.jsx(m,{children:e.jsx(h,{className:"pt-6 text-center text-muted-foreground",children:"Select an asset to view details"})});const n=s.data,a=n?.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",r={[c.TENANT]:"bg-purple-100 text-purple-800",[c.PROJECT]:"bg-blue-100 text-blue-800",[c.SUB_PROJECT]:"bg-indigo-100 text-indigo-800",[c.ENVIRONMENT]:"bg-green-100 text-green-800"}[s.type]||"bg-gray-100 text-gray-800",j=(g=>g>=8?"text-red-600 bg-red-50":g>=6?"text-orange-600 bg-orange-50":g>=4?"text-yellow-600 bg-yellow-50":"text-green-600 bg-green-50")(n?.risk_score||0);return e.jsx(m,{children:e.jsx(k,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(w,{className:"text-2xl",children:s.name}),e.jsx(N,{className:a,children:n?.status==="active"?"Active":"Inactive"}),e.jsx(N,{className:r,children:s.type.charAt(0).toUpperCase()+s.type.slice(1).replace("_"," ")})]}),n?.description&&e.jsx("p",{className:"text-muted-foreground mb-4",children:n.description}),e.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[e.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-md ${j}`,children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Risk Score:"}),e.jsx("span",{className:"font-bold",children:(n?.risk_score||0).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsxs("span",{children:["Created: ",new Date(n?.created_at||"").toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsxs("span",{children:["Updated: ",new Date(n?.updated_at||"").toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>i({to:"/appsec"}),children:[e.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Scan Now"]}),e.jsxs(b,{size:"sm",variant:"outline",onClick:()=>console.log("View report"),children:[e.jsx(Re,{className:"h-4 w-4 mr-1"}),"View Report"]})]})]})})})}function ss({node:s}){if(!s)return null;const i=[{month:"Jan",discovered:8,resolved:5},{month:"Feb",discovered:12,resolved:10},{month:"Mar",discovered:6,resolved:8},{month:"Apr",discovered:15,resolved:12},{month:"May",discovered:9,resolved:11},{month:"Jun",discovered:7,resolved:9}],n=[{severity:"Critical",count:2,color:"bg-red-500"},{severity:"High",count:4,color:"bg-orange-500"},{severity:"Medium",count:3,color:"bg-yellow-500"},{severity:"Low",count:3,color:"bg-green-500"}],a=6;return s.data?.risk_score,e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(m,{className:"border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow bg-gradient-to-br from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 w-fit",children:e.jsx(V,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),e.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Total"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-4xl font-bold text-foreground",children:"45"}),e.jsx("p",{className:"text-xs font-semibold text-muted-foreground mt-2",children:"Known vulnerabilities"})]})]})})}),e.jsx(m,{className:"border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow bg-gradient-to-br from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 w-fit",children:e.jsx(V,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),e.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Alert"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-4xl font-bold text-foreground",children:a}),e.jsx("p",{className:"text-xs font-semibold text-muted-foreground mt-2",children:"Critical & High"})]})]})})}),e.jsx(m,{className:"border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow bg-gradient-to-br from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30 w-fit",children:e.jsx(Me,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),e.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Issues"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-4xl font-bold text-foreground",children:"3"}),e.jsx("p",{className:"text-xs font-semibold text-muted-foreground mt-2",children:"SLA Breached"})]})]})})}),e.jsx(m,{className:"border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow bg-gradient-to-br from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 w-fit",children:e.jsx(Ue,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Speed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-4xl font-bold text-foreground",children:"4.2d"}),e.jsx("p",{className:"text-xs font-semibold text-muted-foreground mt-2",children:"Mean time to resolve"})]})]})})}),e.jsx(m,{className:"border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow bg-gradient-to-br from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/30 w-fit",children:e.jsx(Ie,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsx("span",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:"Fixed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-4xl font-bold text-foreground",children:"28"}),e.jsx("p",{className:"text-xs font-semibold text-muted-foreground mt-2",children:"Resolved this month"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(k,{children:e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"Vulnerability Discovery vs Resolution"]})}),e.jsx(h,{children:e.jsx("div",{className:"space-y-3",children:i.map((r,x)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm w-12",children:r.month}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("div",{className:"bg-red-500 dark:bg-red-400 h-4 rounded",style:{width:`${r.discovered/20*100}%`},title:`Discovered: ${r.discovered}`}),e.jsx("div",{className:"bg-green-500 dark:bg-green-400 h-4 rounded",style:{width:`${r.resolved/20*100}%`},title:`Resolved: ${r.resolved}`})]}),e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsxs(N,{variant:"outline",className:"text-red-600 border-red-200",children:["+",r.discovered]}),e.jsxs(N,{variant:"outline",className:"text-green-600 border-green-200",children:["-",r.resolved]})]})]},x))})})]}),e.jsxs(m,{children:[e.jsx(k,{children:e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5"}),"Severity Breakdown"]})}),e.jsx(h,{children:e.jsx("div",{className:"space-y-4",children:n.map((r,x)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded ${r.color}`}),e.jsx("span",{className:"text-sm font-medium w-20",children:r.severity}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:e.jsx("div",{className:`h-4 rounded-full ${r.color}`,style:{width:`${r.count/12*100}%`}})})}),e.jsx("span",{className:"text-sm font-bold w-8",children:r.count})]},x))})})]})]})]})}function ts({node:s}){if(!s)return null;const i=s.data;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(k,{children:e.jsx(w,{className:"text-lg",children:"Basic Information"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground dark:text-gray-400 flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"Created Date"]}),e.jsx("p",{className:"font-medium dark:text-foreground",children:new Date(i?.created_at||"").toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground dark:text-gray-400 flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"Last Updated"]}),e.jsx("p",{className:"font-medium dark:text-foreground",children:new Date(i?.updated_at||"").toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground dark:text-gray-400",children:"Status"}),e.jsx(N,{className:i?.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-muted dark:text-gray-200",children:i?.status==="active"?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground dark:text-gray-400",children:"Type"}),e.jsx(N,{variant:"outline",children:s.type.charAt(0).toUpperCase()+s.type.slice(1).replace("_"," ")})]})]}),i?.description&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground dark:text-gray-400",children:"Description"}),e.jsx("p",{className:"mt-1 dark:text-foreground",children:i.description})]})]})]}),s.type===c.ENVIRONMENT&&e.jsxs(m,{children:[e.jsx(k,{children:e.jsx(w,{className:"text-lg",children:"Environment Configuration"})}),e.jsx(h,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground dark:text-gray-400",children:"Environment Type"}),e.jsx(N,{variant:"outline",children:i.type?.toUpperCase()})]}),i.url&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground dark:text-gray-400 flex items-center gap-2",children:[e.jsx(He,{className:"h-4 w-4"}),"URL"]}),e.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm break-all",children:i.url})]})]})})]}),e.jsxs(m,{children:[e.jsx(k,{children:e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ke,{className:"h-5 w-5"}),"Tags & Metadata"]})}),e.jsx(h,{children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(N,{variant:"secondary",children:"production"}),e.jsx(N,{variant:"secondary",children:"web-application"}),e.jsx(N,{variant:"secondary",children:"customer-facing"}),e.jsx(N,{variant:"secondary",children:"pci-compliant"})]})})]}),e.jsxs(m,{children:[e.jsx(k,{children:e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"Contact Information"]})}),e.jsx(h,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground dark:text-gray-400",children:"Owner"}),e.jsx("p",{className:"font-medium dark:text-foreground",children:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground dark:text-gray-400",children:"Team"}),e.jsx("p",{className:"font-medium dark:text-foreground",children:"Engineering Team"})]})]})})]})]})}function as({node:s}){if(!s)return null;const n=(()=>{switch(s.type){case c.TENANT:return[{type:"project",name:"Mobile App",status:"active",vulns:12,risk:6.5},{type:"project",name:"Enterprise Portal",status:"active",vulns:33,risk:7.9}];case c.PROJECT:return[{type:"sub_project",name:"Backend API",status:"active",vulns:5,risk:5.2},{type:"sub_project",name:"Frontend App",status:"active",vulns:7,risk:7.8}];case c.SUB_PROJECT:return[{type:"environment",name:"Dev Server",status:"active",vulns:2,risk:3.1},{type:"environment",name:"Production",status:"active",vulns:3,risk:7.1}];default:return[]}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(k,{children:e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5"}),"Current Asset"]})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg border-2 border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-950",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-lg",children:s.name}),e.jsx(N,{className:"bg-blue-100 text-blue-800",children:s.type}),e.jsx(N,{className:s.data?.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:s.data?.status})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Vulnerabilities: ",s.data?.vulnerabilities_count||0]}),e.jsxs("span",{children:["Risk Score: ",(s.data?.risk_score||0).toFixed(1)]})]})]})]})})]}),n.length>0&&e.jsxs(m,{children:[e.jsx(k,{children:e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(Fe,{className:"h-5 w-5"}),"Child Assets (",n.length,")"]})}),e.jsx(h,{children:e.jsx("div",{className:"space-y-3",children:n.map((a,r)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${a.status==="active"?"bg-green-500":"bg-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:a.name}),e.jsx(N,{variant:"outline",className:"text-xs",children:a.type}),e.jsx(N,{className:a.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:a.status})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Vulnerabilities: ",a.vulns]}),e.jsxs("span",{children:["Risk Score: ",a.risk.toFixed(1)]})]})]}),e.jsx(ze,{className:"h-4 w-4 text-gray-400"})]},r))})})]}),e.jsxs(m,{children:[e.jsx(k,{children:e.jsxs(w,{className:"text-lg flex items-center gap-2",children:[e.jsx(Te,{className:"h-5 w-5"}),"Impact Analysis"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:n.length}),e.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Direct Dependencies"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-orange-50 dark:bg-orange-950 border border-orange-200 dark:border-orange-800",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:n.reduce((a,r)=>a+r.vulns,0)}),e.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Total Child Vulnerabilities"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n.length>0?(n.reduce((a,r)=>a+r.risk,0)/n.length).toFixed(1):"0.0"}),e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Average Child Risk Score"})]})]})})]})]})}function rs({node:s}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx(es,{node:s}),s&&e.jsxs(W,{defaultValue:"overview",className:"w-full",children:[e.jsxs(X,{className:"grid w-full grid-cols-3",children:[e.jsx(D,{value:"overview",children:"ðŸ“Š Overview"}),e.jsx(D,{value:"details",children:"ðŸ“‹ Details"}),e.jsx(D,{value:"hierarchy",children:"ðŸ”— Hierarchy"})]}),e.jsx(O,{value:"overview",className:"mt-4",children:e.jsx(ss,{node:s})}),e.jsx(O,{value:"details",className:"mt-4",children:e.jsx(ts,{node:s})}),e.jsx(O,{value:"hierarchy",className:"mt-4",children:e.jsx(as,{node:s})})]})]})}function ns({isOpen:s,onClose:i,onSubmit:n,isLoading:a=!1}){const[r,x]=o.useState(""),[j,g]=o.useState(""),[y,p]=o.useState(""),l=async()=>{if(!r.trim()){p("Tenant name is required");return}try{await n({name:r,description:j}),x(""),g(""),p(""),i()}catch(t){p(t instanceof Error?t.message:"Failed to create tenant")}};return e.jsx(F,{open:s,onOpenChange:i,children:e.jsxs(J,{children:[e.jsxs(B,{children:[e.jsx($,{children:"Create New Tenant"}),e.jsx(z,{children:"Add a new tenant to organize your projects"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Tenant Name *"}),e.jsx(U,{placeholder:"e.g., Acme Corporation",value:r,onChange:t=>{x(t.target.value),p("")},disabled:a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(L,{placeholder:"Optional description...",value:j,onChange:t=>g(t.target.value),disabled:a,rows:3})]}),y&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm",children:y})]}),e.jsxs(G,{children:[e.jsx(b,{variant:"outline",onClick:i,disabled:a,children:"Cancel"}),e.jsx(b,{onClick:l,disabled:a,children:a?"Creating...":"Create Tenant"})]})]})})}function is({isOpen:s,parentName:i="Tenant",onClose:n,onSubmit:a,isLoading:r=!1}){const[x,j]=o.useState(""),[g,y]=o.useState(""),[p,l]=o.useState(""),t=async()=>{if(!x.trim()){l("Project name is required");return}try{await a({name:x,description:g}),j(""),y(""),l(""),n()}catch(d){l(d instanceof Error?d.message:"Failed to create project")}};return e.jsx(F,{open:s,onOpenChange:n,children:e.jsxs(J,{children:[e.jsxs(B,{children:[e.jsx($,{children:"Create New Project"}),e.jsxs(z,{children:["Add a new project under ",i]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Project Name *"}),e.jsx(U,{placeholder:"e.g., Mobile App",value:x,onChange:d=>{j(d.target.value),l("")},disabled:r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(L,{placeholder:"Optional description...",value:g,onChange:d=>y(d.target.value),disabled:r,rows:3})]}),p&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm",children:p})]}),e.jsxs(G,{children:[e.jsx(b,{variant:"outline",onClick:n,disabled:r,children:"Cancel"}),e.jsx(b,{onClick:t,disabled:r,children:r?"Creating...":"Create Project"})]})]})})}function ls({isOpen:s,parentName:i,onClose:n,onSubmit:a,isLoading:r}){const[x,j]=o.useState(""),[g,y]=o.useState("dev"),[p,l]=o.useState(""),[t,d]=o.useState(""),[v,C]=o.useState(""),E=async f=>{if(f.preventDefault(),C(""),!x.trim()){C("Environment name is required");return}if(p&&!T(p)){C("Invalid URL format");return}try{await a({name:x.trim(),type:g,url:p.trim()||void 0,description:t.trim()||void 0}),j(""),y("dev"),l(""),d(""),n()}catch(P){C(P instanceof Error?P.message:"Failed to create environment")}},T=f=>{try{return new URL(f),!0}catch{return!1}};return e.jsx(F,{open:s,onOpenChange:n,children:e.jsxs(J,{children:[e.jsxs(B,{children:[e.jsx($,{children:"Create New Environment"}),e.jsxs(z,{children:[i&&`Under: ${i}`,!i&&"Add a new environment"]})]}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"env-name",children:"Environment Name *"}),e.jsx(U,{id:"env-name",placeholder:"e.g., Production",value:x,onChange:f=>j(f.target.value),disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"env-type",children:"Type *"}),e.jsxs(Se,{value:g,onValueChange:y,disabled:r,children:[e.jsx(Ee,{children:e.jsx(Ae,{})}),e.jsxs(De,{children:[e.jsx(R,{value:"dev",children:"Development"}),e.jsx(R,{value:"staging",children:"Staging"}),e.jsx(R,{value:"qa",children:"QA"}),e.jsx(R,{value:"production",children:"Production"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"env-url",children:"URL"}),e.jsx(U,{id:"env-url",type:"url",placeholder:"https://example.com",value:p,onChange:f=>l(f.target.value),disabled:r})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(M,{htmlFor:"env-description",children:"Description"}),e.jsx(L,{id:"env-description",placeholder:"Describe this environment...",value:t,onChange:f=>d(f.target.value),disabled:r,rows:3})]}),v&&e.jsx("p",{className:"text-sm text-red-600",children:v}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(b,{type:"button",variant:"outline",onClick:n,disabled:r,children:"Cancel"}),e.jsx(b,{type:"submit",disabled:r,children:r?"Creating...":"Create Environment"})]})]})]})})}function ds(s){const[i,n]=o.useState(new Set),[a,r]=o.useState(null),x=o.useCallback(()=>s.map(l=>({id:l.id,name:l.name,type:c.TENANT,level:0,expanded:i.has(l.id),selected:a?.id===l.id,children:l.projects.map(t=>({id:t.id,name:t.name,type:c.PROJECT,level:1,parent_id:l.id,expanded:i.has(t.id),selected:a?.id===t.id,children:t.sub_projects.map(d=>({id:d.id,name:d.name,type:c.SUB_PROJECT,level:2,parent_id:t.id,expanded:i.has(d.id),selected:a?.id===d.id,children:d.environments.map(v=>({id:v.id,name:v.name,type:c.ENVIRONMENT,level:3,parent_id:d.id,expanded:!1,selected:a?.id===v.id,children:[],data:v})),data:d})),data:t})),data:l})),[s,i,a]),j=o.useCallback(l=>{n(t=>{const d=new Set(t);return d.has(l)?d.delete(l):d.add(l),d})},[]),g=o.useCallback(l=>{r(l)},[]),y=o.useCallback(()=>{const l=new Set,t=d=>{d.forEach(v=>{l.add(v.id),v.children&&v.children.length>0&&t(v.children)})};t(x()),n(l)},[x]),p=o.useCallback(()=>{n(new Set)},[]);return{tree:x(),expandedNodes:i,selectedNode:a,toggleNode:j,selectNode:g,expandAll:y,collapseAll:p}}function cs(){const[s,i]=o.useState(!0),[n,a]=o.useState([]),[r,x]=o.useState(null),[j,g]=o.useState(!0),[y,p]=o.useState(!1),[l,t]=o.useState(!1),[d,v]=o.useState(!1),[C,E]=o.useState(null),[T,f]=o.useState(!1),{tree:P,expandedNodes:ee,toggleNode:se,selectNode:te,expandAll:ae,collapseAll:re}=ds(n),ne=[{id:"TENANT-001",name:"Acme Corporation",description:"Main organization for Acme Corp",status:"active",created_at:"2024-01-01T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:45,risk_score:7.2,projects:[{id:"PROJ-001",name:"Mobile App",description:"iOS and Android applications",status:"active",created_at:"2024-01-15T10:00:00Z",updated_at:"2025-01-10T10:00:00Z",vulnerabilities_count:12,risk_score:6.5,sub_projects:[{id:"SUBPROJ-001",name:"Backend API",description:"REST API services",status:"active",created_at:"2024-02-01T10:00:00Z",updated_at:"2025-01-12T10:00:00Z",vulnerabilities_count:5,risk_score:5.2,environments:[{id:"ENV-001",name:"Dev Server",type:S.DEV,description:"Development environment",url:"https://dev-api.acme.com",status:"active",created_at:"2024-02-05T10:00:00Z",updated_at:"2025-01-14T10:00:00Z",vulnerabilities_count:2,risk_score:3.1},{id:"ENV-002",name:"Production",type:S.PRODUCTION,description:"Production environment",url:"https://api.acme.com",status:"active",created_at:"2024-02-05T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:3,risk_score:7.1}]},{id:"SUBPROJ-002",name:"Frontend App",description:"React web application",status:"active",created_at:"2024-02-10T10:00:00Z",updated_at:"2025-01-11T10:00:00Z",vulnerabilities_count:7,risk_score:7.8,environments:[{id:"ENV-003",name:"Staging",type:S.STAGING,description:"Staging environment",url:"https://staging.acme.com",status:"active",created_at:"2024-02-15T10:00:00Z",updated_at:"2025-01-13T10:00:00Z",vulnerabilities_count:4,risk_score:6.5},{id:"ENV-004",name:"Production",type:S.PRODUCTION,description:"Production web app",url:"https://acme.com",status:"active",created_at:"2024-02-15T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:3,risk_score:8.3}]}]},{id:"PROJ-002",name:"Enterprise Portal",description:"Internal management portal",status:"active",created_at:"2024-03-01T10:00:00Z",updated_at:"2025-01-08T10:00:00Z",vulnerabilities_count:33,risk_score:7.9,sub_projects:[{id:"SUBPROJ-003",name:"Admin Dashboard",description:"Admin control panel",status:"active",created_at:"2024-03-10T10:00:00Z",updated_at:"2025-01-09T10:00:00Z",vulnerabilities_count:20,risk_score:8.1,environments:[{id:"ENV-005",name:"QA",type:S.QA,description:"QA testing environment",url:"https://qa-portal.acme.com",status:"active",created_at:"2024-03-15T10:00:00Z",updated_at:"2025-01-10T10:00:00Z",vulnerabilities_count:8,risk_score:6.8},{id:"ENV-006",name:"Production",type:S.PRODUCTION,description:"Production portal",url:"https://portal.acme.com",status:"active",created_at:"2024-03-15T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:12,risk_score:9.2}]}]}]},{id:"TENANT-002",name:"TechStart Inc",description:"Startup technology company",status:"active",created_at:"2024-06-01T10:00:00Z",updated_at:"2025-01-12T10:00:00Z",vulnerabilities_count:28,risk_score:6.1,projects:[{id:"PROJ-003",name:"SaaS Platform",description:"Cloud-based SaaS solution",status:"active",created_at:"2024-06-15T10:00:00Z",updated_at:"2025-01-11T10:00:00Z",vulnerabilities_count:28,risk_score:6.1,sub_projects:[{id:"SUBPROJ-004",name:"Core Service",description:"Main microservice",status:"active",created_at:"2024-07-01T10:00:00Z",updated_at:"2025-01-10T10:00:00Z",vulnerabilities_count:15,risk_score:5.9,environments:[{id:"ENV-007",name:"Development",type:S.DEV,url:"https://dev-saas.techstart.com",status:"active",created_at:"2024-07-10T10:00:00Z",updated_at:"2025-01-10T10:00:00Z",vulnerabilities_count:6,risk_score:4.2},{id:"ENV-008",name:"Production",type:S.PRODUCTION,url:"https://saas.techstart.com",status:"active",created_at:"2024-07-10T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:9,risk_score:7.6}]}]}]}];o.useEffect(()=>{ie()},[]);const ie=async()=>{try{i(!0),a(ne)}catch(u){console.error("Failed to fetch assets:",u)}finally{i(!1)}},le=async u=>{try{f(!0);const _={id:`TENANT-${Date.now()}`,name:u.name,description:u.description,status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),vulnerabilities_count:0,risk_score:0,projects:[]};a([...n,_]),console.log("âœ… Tenant created:",_)}catch(_){throw console.error("Failed to create tenant:",_),_}finally{f(!1)}},de=async u=>{try{if(f(!0),!C)throw new Error("No parent selected");console.log("âœ… Project created:",u)}catch(_){throw console.error("Failed to create project:",_),_}finally{f(!1)}},ce=async u=>{try{if(f(!0),!C)throw new Error("No parent selected");console.log("âœ… Environment created:",u)}catch(_){throw console.error("Failed to create environment:",_),_}finally{f(!1)}},oe=u=>{E(u),u.type===c.TENANT?t(!0):(u.type===c.PROJECT||u.type===c.SUB_PROJECT)&&v(!0)},xe=u=>{console.log("Edit:",u)},me=u=>{console.log("Delete:",u)};return e.jsxs(e.Fragment,{children:[e.jsxs(je,{children:[e.jsx(Ne,{links:os}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(ge,{}),e.jsx(be,{}),e.jsx(pe,{}),e.jsx(fe,{})]})]}),e.jsxs(ve,{className:"min-h-screen !overflow-visible",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Assets"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your organizational structure: Tenants, Projects, and Environments"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>g(!j),className:"gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),j?"Classic View":"Enhanced View"]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:re,className:"gap-2",children:[e.jsx(Oe,{className:"h-4 w-4"}),"Collapse All"]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:ae,className:"gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),"Expand All"]}),e.jsxs(b,{onClick:()=>p(!0),className:"gap-2",children:[e.jsx(K,{className:"h-4 w-4"}),"New Tenant"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 pb-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(m,{children:[e.jsxs(k,{children:[e.jsx(w,{children:"Asset Hierarchy"}),e.jsx(q,{children:"Expand to view projects and environments"})]}),e.jsx(h,{className:"overflow-y-auto max-h-[70vh]",children:s?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading assets..."})]})}):n.length===0?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"No assets found"})}):e.jsx(Xe,{nodes:P,expandedNodes:ee,selectedNode:r,onToggleNode:se,onSelectNode:u=>{te(u),x(u)},onCreateChild:oe,onEdit:xe,onDelete:me})})]})}),e.jsx("div",{className:"lg:col-span-2 min-h-[70vh]",children:j?e.jsx(rs,{node:r}):e.jsx(Ye,{node:r,onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})]})]}),e.jsx(ns,{isOpen:y,onClose:()=>p(!1),onSubmit:le,isLoading:T}),e.jsx(is,{isOpen:l,parentName:C?.name,onClose:()=>{t(!1),E(null)},onSubmit:de,isLoading:T}),e.jsx(ls,{isOpen:d,parentName:C?.name,onClose:()=>{v(!1),E(null)},onSubmit:ce,isLoading:T})]})}const os=[{title:"Dashboard",href:"/",isActive:!1,disabled:!1},{title:"Vulnerabilities",href:"/vulnerabilities",isActive:!1,disabled:!1},{title:"Assets",href:"/assets",isActive:!0,disabled:!1},{title:"Compliance",href:"/compliance",isActive:!1,disabled:!0}],et=cs;export{et as component};
