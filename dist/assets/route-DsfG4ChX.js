import{u as m,a as n,r as o,j as c,b as l}from"./index-oxLYDS5M.js";import{A as u}from"./authenticated-layout-C_cHipN6.js";import"./layout-provider-diZsHGne.js";import"./confirm-dialog-B43sbRGH.js";import"./scroll-area-BimYXtn5.js";import"./index-BPnUvQlg.js";import"./index-Cm2yHs3V.js";import"./index-BX0_rYSh.js";import"./index-D3MmCfGe.js";import"./index-Bs3SSA5T.js";import"./circle-question-mark-Bzm9YqMf.js";import"./arrow-right-Cr3qe1TE.js";import"./index-D9L5_ghC.js";import"./index-BKXp8s6Q.js";import"./index-AHOSfMZ3.js";import"./check-B7Na_Hcw.js";import"./useLocation-BWIABEDz.js";import"./badge-D9o7aS9a.js";import"./sign-out-dialog-BHgWEyYO.js";import"./plus-CKS-L-Mi.js";const O=()=>{const a=m(),{auth:e}=n(),[i,s]=o.useState(!1);return o.useEffect(()=>{(()=>{try{const r=l.getUser();if(r)e.user||e.setUser({accountNo:r.id.toString(),email:r.email,role:[r.role],exp:Date.now()+31536e6});else{const t={id:1,username:"admin",email:"admin@tracevault.com",first_name:"Admin",last_name:"User",role:"admin",status:"active"};localStorage.setItem("user",JSON.stringify(t)),e.setUser({accountNo:t.id.toString(),email:t.email,role:[t.role],exp:Date.now()+31536e6})}}catch{const t={id:1,username:"admin",email:"admin@tracevault.com",first_name:"Admin",last_name:"User",role:"admin",status:"active"};localStorage.setItem("user",JSON.stringify(t)),e.setUser({accountNo:t.id.toString(),email:t.email,role:[t.role],exp:Date.now()+31536e6})}finally{s(!0)}})()},[a,e.user,e]),i?c.jsx(u,{}):null};export{O as component};
