import{c as b,r as v,u as N,a as y,j as e,d as k,L as w,B as l,o as S,b as L,t as c,s as F,e as P}from"./index-dVfrCOv9.js";import{L as I}from"./logo-BP4nZx2p.js";import{u as E,a as V,F as C,b as i,c as d,d as m,e as x,f as u}from"./form-Cj3Y4WhM.js";import{I as A}from"./input-BqjGgUfs.js";import{P as B}from"./password-input-B1yE8565.js";import{L as M}from"./loader-circle-C6ZvqCZ9.js";import"./label-CaGYteLR.js";import"./eye--F3oNh1v.js";import"./eye-off-Dzk-AKXr.js";const T=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],W=b("log-in",T),_="/assets/TraceVault-DnWvPnw4.png",z=S({email:P({error:t=>t.input===""?"Please enter your email":void 0}),password:F().min(1,"Please enter your password").min(7,"Password must be at least 7 characters long")});function D({className:t,redirectTo:g,...h}){const[o,n]=v.useState(!1),f=N(),{auth:p}=y(),a=E({resolver:V(z),defaultValues:{email:"",password:""}});async function j(s){n(!0);try{const r=await L.login(s.email,s.password);p.setUser({accountNo:r.user.id.toString(),email:r.user.email,role:[r.user.role],exp:Date.now()+1440*60*1e3}),c.success(`Welcome back, ${r.user.first_name}!`),f({to:g||"/",replace:!0})}catch(r){c.error(r.message||"Sign in failed"),n(!1)}}return e.jsx(C,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(j),className:k("grid gap-3",t),...h,children:[e.jsx(i,{control:a.control,name:"email",render:({field:s})=>e.jsxs(d,{children:[e.jsx(m,{children:"Email"}),e.jsx(x,{children:e.jsx(A,{placeholder:"name@example.com",...s})}),e.jsx(u,{})]})}),e.jsx(i,{control:a.control,name:"password",render:({field:s})=>e.jsxs(d,{className:"relative",children:[e.jsx(m,{children:"Password"}),e.jsx(x,{children:e.jsx(B,{placeholder:"********",...s})}),e.jsx(u,{}),e.jsx(w,{to:"/forgot-password",className:"absolute end-0 -top-0.5 text-sm font-medium text-muted-foreground hover:opacity-75",children:"Forgot password?"})]})}),e.jsxs(l,{className:"mt-2",disabled:o,children:[o?e.jsx(M,{className:"animate-spin"}):e.jsx(W,{}),"Sign in"]}),e.jsxs("div",{className:"relative my-2",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),e.jsx(l,{variant:"outline",type:"button",disabled:o,className:"w-full",children:"OAuth"})]})})}function O(){return e.jsxs("div",{className:"relative container grid h-svh flex-col items-center justify-center lg:max-w-none lg:grid-cols-2 lg:px-0 bg-background dark:bg-background",children:[e.jsx("div",{className:"relative lg:p-8 bg-card dark:bg-card border-r border-border dark:border-border",children:e.jsxs("div",{className:"relative mx-auto flex w-full flex-col justify-center space-y-6 py-8 sm:w-[480px] sm:p-8",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-center",children:[e.jsx(I,{className:"me-3 h-10 w-10"}),e.jsx("h1",{className:"text-2xl font-bold text-foreground dark:text-foreground tracking-tight",children:"TraceVault"})]}),e.jsxs("div",{className:"mx-auto flex w-full max-w-sm flex-col justify-center space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-3 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground dark:text-foreground",children:"Welcome Back"}),e.jsx("p",{className:"text-base text-muted-foreground dark:text-muted-foreground leading-relaxed",children:"Enter your credentials to access your security dashboard"})]}),e.jsx(D,{className:"backdrop-blur-sm"})]})]})}),e.jsx("div",{className:"relative h-full overflow-hidden bg-background dark:bg-background max-lg:hidden flex items-center justify-center border-l border-border dark:border-border",children:e.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center space-y-6 px-12",children:[e.jsx("img",{src:_,width:1347,height:1361,alt:"TraceVault",className:"h-64 w-64 object-contain drop-shadow-2xl filter brightness-110 dark:brightness-100"}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h3",{className:"text-3xl font-bold text-foreground dark:text-foreground tracking-tight",children:"Enterprise Security Platform"}),e.jsx("p",{className:"text-lg text-muted-foreground dark:text-muted-foreground max-w-md leading-relaxed",children:"Comprehensive vulnerability management and security analytics for modern organizations"})]})]})})]})}const Y=O;export{Y as component};
