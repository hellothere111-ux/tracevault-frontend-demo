import{a1 as F,r as c,i as E,j as d,a2 as h,$ as V,d as L,u as D,g as U}from"./index-CyLddbD6.js";import{a as B}from"./index-iG58nOgD.js";import{d as S}from"./index-De73T7We.js";import{T as K}from"./confirm-dialog-pAXck9NV.js";var Y=F();const y="layout_collapsible",w="layout_variant",b=3600*24*7,x="inset",A="icon",N=c.createContext(null);function st({children:t}){const[e,n]=c.useState(()=>E(y)||A),[r,o]=c.useState(()=>E(w)||x),a=l=>{n(l),h(y,l,b)},u=l=>{o(l),h(w,l,b)},i={resetLayout:()=>{a(A),u(x)},defaultCollapsible:A,collapsible:e,setCollapsible:a,defaultVariant:x,variant:r,setVariant:u};return d.jsx(N,{value:i,children:t})}function ut(){const t=c.useContext(N);if(!t)throw new Error("useLayout must be used within a LayoutProvider");return t}function z(t,e=[]){let n=[];function r(a,u){const s=c.createContext(u);s.displayName=a+"Context";const i=n.length;n=[...n,u];const l=f=>{const{scope:p,children:g,...m}=f,M=p?.[t]?.[i]||s,$=c.useMemo(()=>m,Object.values(m));return d.jsx(M.Provider,{value:$,children:g})};l.displayName=a+"Provider";function v(f,p){const g=p?.[t]?.[i]||s,m=c.useContext(g);if(m)return m;if(u!==void 0)return u;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[l,v]}const o=()=>{const a=n.map(u=>c.createContext(u));return function(s){const i=s?.[t]||a;return c.useMemo(()=>({[`__scope${t}`]:{...s,[t]:i}}),[s,i])}};return o.scopeName=t,[r,H(o,...e)]}function H(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((s,{useScope:i,scopeName:l})=>{const f=i(a)[`__scope${l}`];return{...s,...f}},{});return c.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}var q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],C=q.reduce((t,e)=>{const n=V(`Primitive.${e}`),r=c.forwardRef((o,a)=>{const{asChild:u,...s}=o,i=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(i,{...s,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function G(){return Y.useSyncExternalStore(W,()=>!0,()=>!1)}function W(){return()=>{}}var _="Avatar",[X]=z(_),[J,P]=X(_),j=c.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[o,a]=c.useState("idle");return d.jsx(J,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:d.jsx(C.span,{...r,ref:e})})});j.displayName=_;var O="AvatarImage",R=c.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...a}=t,u=P(O,n),s=Q(r,a),i=B(l=>{o(l),u.onImageLoadingStatusChange(l)});return S(()=>{s!=="idle"&&i(s)},[s,i]),s==="loaded"?d.jsx(C.img,{...a,ref:e,src:r}):null});R.displayName=O;var T="AvatarFallback",k=c.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...o}=t,a=P(T,n),[u,s]=c.useState(r===void 0);return c.useEffect(()=>{if(r!==void 0){const i=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(i)}},[r]),u&&a.imageLoadingStatus!=="loaded"?d.jsx(C.span,{...o,ref:e}):null});k.displayName=T;function I(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Q(t,{referrerPolicy:e,crossOrigin:n}){const r=G(),o=c.useRef(null),a=r?(o.current||(o.current=new window.Image),o.current):null,[u,s]=c.useState(()=>I(a,t));return S(()=>{s(I(a,t))},[a,t]),S(()=>{const i=f=>()=>{s(f)};if(!a)return;const l=i("loaded"),v=i("error");return a.addEventListener("load",l),a.addEventListener("error",v),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",l),a.removeEventListener("error",v)}},[a,n,e]),u}var Z=j,tt=R,et=k;function it({className:t,...e}){return d.jsx(Z,{"data-slot":"avatar",className:L("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function ct({className:t,...e}){return d.jsx(tt,{"data-slot":"avatar-image",className:L("aspect-square size-full",t),...e})}function lt({className:t,...e}){return d.jsx(et,{"data-slot":"avatar-fallback",className:L("flex size-full items-center justify-center rounded-full bg-muted",t),...e})}function dt({open:t,onOpenChange:e}){const n=D(),{auth:r}=U(),o=()=>{r.reset(),n({to:"/sign-in-2",replace:!0})};return d.jsx(K,{open:t,onOpenChange:e,title:"Sign out",desc:"Are you sure you want to sign out? You will need to sign in again to access your account.",confirmText:"Sign out",destructive:!0,handleConfirm:o,className:"sm:max-w-sm"})}export{it as A,st as L,dt as S,ct as a,lt as b,ut as u};
