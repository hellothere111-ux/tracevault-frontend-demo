import{j as e,B as N,q as re,S as ne,r as i}from"./index-CyLddbD6.js";import{C as y,d as S,a as D,b as O,c as z}from"./card-BTqXV1RT.js";import{C as ie}from"./config-drawer-D0Lvmk0a.js";import{H as le,S as ce}from"./search-CdXJDppT.js";import{M as de}from"./main-CnnvO0gv.js";import{T as oe}from"./top-nav-sc-uNMfO.js";import{P as me}from"./profile-dropdown-BfnLNWIf.js";import{T as ue}from"./theme-switch-BR8ZSlRP.js";import{C as pe,D as xe,f as he,g as je,j as P,F as R,G as Z,H as I,I as U,J as V,R as q}from"./confirm-dialog-pAXck9NV.js";import{C as H,S as ve,a as Ne,b as ge,c as fe,d as w,e as be}from"./select-TQwDUQ4A.js";import{E as Te}from"./ellipsis-vertical-r7Sn8IJP.js";import{P as $}from"./plus-BmOvJ8DQ.js";import{B as J}from"./badge-DHUMdwZJ.js";import{T as Ce,a as _e,b as M,c as B}from"./tabs-Na2_x9CK.js";import{I as A}from"./input-CXl4TFaQ.js";import{T as F}from"./textarea-DJL-Tx4p.js";import{L as k}from"./label-CcUkce7_.js";import"./index-BbeBjg-j.js";import"./index-De73T7We.js";import"./index-BkYwP1Fm.js";import"./index-C626fjWP.js";import"./index-iG58nOgD.js";import"./index-DhnNAsvm.js";import"./index-CPEMSmfu.js";import"./sign-out-dialog-I2FQ1cpp.js";import"./separator-CrVCV9Cl.js";import"./check-BxIkDk5N.js";import"./index-d5d2tWRm.js";import"./index-XYn7pLoo.js";var m=(a=>(a.TENANT="tenant",a.PROJECT="project",a.SUB_PROJECT="sub_project",a.ENVIRONMENT="environment",a))(m||{}),_=(a=>(a.DEV="dev",a.STAGING="staging",a.PRODUCTION="production",a.UAT="uat",a.QA="qa",a))(_||{});function ye({nodes:a,expandedNodes:c,selectedNode:d,onToggleNode:s,onSelectNode:l,onCreateChild:x,onEdit:j,onDelete:h}){const v=t=>{switch(t){case m.TENANT:return"ðŸ¢";case m.PROJECT:return"ðŸ“¦";case m.SUB_PROJECT:return"ðŸ“";case m.ENVIRONMENT:return"ðŸŒ";default:return"ðŸ“„"}},u=t=>{switch(t){case m.TENANT:return"text-blue-600 dark:text-blue-400";case m.PROJECT:return"text-purple-600 dark:text-purple-400";case m.SUB_PROJECT:return"text-green-600 dark:text-green-400";case m.ENVIRONMENT:return"text-orange-600 dark:text-orange-400";default:return"text-gray-600 dark:text-gray-400"}},n=(t,r=0)=>{const p=t.children&&t.children.length>0,g=c.has(t.id),T=d?.id===t.id;return e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-center gap-2 px-2 py-2 rounded-lg cursor-pointer group transition-colors ${T?"bg-accent border-l-2 border-primary":"hover:bg-muted dark:hover:bg-muted/50"}`,style:{marginLeft:`${r*16}px`},onClick:()=>l(t),children:[p?e.jsx("button",{onClick:C=>{C.stopPropagation(),s(t.id)},className:"p-0.5 hover:bg-muted dark:hover:bg-muted/50 rounded",children:g?e.jsx(H,{className:"h-4 w-4"}):e.jsx(pe,{className:"h-4 w-4"})}):e.jsx("div",{className:"w-5"}),e.jsx("span",{className:"text-lg",children:v(t.type)}),e.jsx("span",{className:`flex-1 font-medium text-foreground ${u(t.type)}`,children:t.name}),t.data?.vulnerabilities_count>0&&e.jsx("span",{className:"text-xs bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 px-2 py-1 rounded-full font-semibold",children:t.data.vulnerabilities_count}),t.data?.risk_score>0&&e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-semibold ${t.data.risk_score>=8?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":t.data.risk_score>=5?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:["Risk: ",t.data.risk_score]}),e.jsxs(xe,{children:[e.jsx(he,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100",onClick:C=>C.stopPropagation(),children:e.jsx(Te,{className:"h-4 w-4"})})}),e.jsxs(je,{align:"end",children:[t.type!==m.ENVIRONMENT&&e.jsxs(P,{onClick:()=>x(t),children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Add"," ",t.type===m.TENANT?"Project":t.type===m.PROJECT?"Sub-project":"Environment"]}),e.jsx(P,{onClick:()=>j(t),children:"Edit"}),e.jsx(P,{onClick:()=>h(t),className:"text-red-600 dark:text-red-400",children:"Delete"})]})]})]}),p&&g&&e.jsx("div",{children:t.children.map(C=>n(C,r+1))})]},t.id)};return e.jsx("div",{className:"space-y-1",children:a.map(t=>n(t))})}function Se({node:a,onEdit:c,onDelete:d}){if(!a)return e.jsx(y,{children:e.jsx(S,{className:"pt-6 text-center text-muted-foreground",children:"Select an asset to view details"})});const s=a.data,l=s?.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs(y,{children:[e.jsx(D,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(O,{className:"text-xl",children:a.name}),e.jsx(z,{children:a.type.charAt(0).toUpperCase()+a.type.slice(1).replace("_"," ")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{size:"sm",variant:"outline",onClick:c,children:"Edit"}),e.jsx(N,{size:"sm",variant:"destructive",onClick:d,children:"Delete"})]})]})}),e.jsxs(S,{className:"space-y-2",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(J,{className:l,children:s?.status==="active"?"Active":"Inactive"})}),s?.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s?.vulnerabilities_count!==void 0&&e.jsxs(y,{children:[e.jsx(D,{className:"pb-2",children:e.jsxs(O,{className:"text-sm flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-red-500"}),"Vulnerabilities"]})}),e.jsx(S,{children:e.jsx("p",{className:"text-2xl font-bold",children:s.vulnerabilities_count})})]}),s?.risk_score!==void 0&&e.jsxs(y,{children:[e.jsx(D,{className:"pb-2",children:e.jsxs(O,{className:"text-sm flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4 text-orange-500"}),"Risk Score"]})}),e.jsx(S,{children:e.jsx("p",{className:"text-2xl font-bold",children:s.risk_score.toFixed(1)})})]})]}),e.jsxs(Ce,{defaultValue:"info",className:"w-full",children:[e.jsxs(_e,{children:[e.jsx(M,{value:"info",children:"Information"}),e.jsx(M,{value:"timeline",children:"Timeline"})]}),e.jsx(B,{value:"info",children:e.jsx(y,{children:e.jsxs(S,{className:"pt-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Created"}),e.jsx("p",{className:"font-medium",children:new Date(s?.created_at||"").toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"font-medium",children:new Date(s?.updated_at||"").toLocaleDateString()})]})]}),a.type===m.ENVIRONMENT&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Environment Type"}),e.jsx(J,{variant:"outline",children:s.type?.toUpperCase()})]}),s.url&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"URL"}),e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm break-all",children:s.url})]})]})]})})}),e.jsx(B,{value:"timeline",children:e.jsx(y,{children:e.jsx(S,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-3 w-3 rounded-full bg-primary"}),e.jsx("div",{className:"w-0.5 h-12 bg-gray-200"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Created"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s?.created_at||"").toLocaleString()})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:"h-3 w-3 rounded-full bg-gray-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Last Updated"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(s?.updated_at||"").toLocaleString()})]})]})]})})})})]})]})}function Ee({isOpen:a,onClose:c,onSubmit:d,isLoading:s=!1}){const[l,x]=i.useState(""),[j,h]=i.useState(""),[v,u]=i.useState(""),n=async()=>{if(!l.trim()){u("Tenant name is required");return}try{await d({name:l,description:j}),x(""),h(""),u(""),c()}catch(t){u(t instanceof Error?t.message:"Failed to create tenant")}};return e.jsx(R,{open:a,onOpenChange:c,children:e.jsxs(Z,{children:[e.jsxs(I,{children:[e.jsx(U,{children:"Create New Tenant"}),e.jsx(V,{children:"Add a new tenant to organize your projects"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Tenant Name *"}),e.jsx(A,{placeholder:"e.g., Acme Corporation",value:l,onChange:t=>{x(t.target.value),u("")},disabled:s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(F,{placeholder:"Optional description...",value:j,onChange:t=>h(t.target.value),disabled:s,rows:3})]}),v&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm",children:v})]}),e.jsxs(q,{children:[e.jsx(N,{variant:"outline",onClick:c,disabled:s,children:"Cancel"}),e.jsx(N,{onClick:n,disabled:s,children:s?"Creating...":"Create Tenant"})]})]})})}function we({isOpen:a,parentName:c="Tenant",onClose:d,onSubmit:s,isLoading:l=!1}){const[x,j]=i.useState(""),[h,v]=i.useState(""),[u,n]=i.useState(""),t=async()=>{if(!x.trim()){n("Project name is required");return}try{await s({name:x,description:h}),j(""),v(""),n(""),d()}catch(r){n(r instanceof Error?r.message:"Failed to create project")}};return e.jsx(R,{open:a,onOpenChange:d,children:e.jsxs(Z,{children:[e.jsxs(I,{children:[e.jsx(U,{children:"Create New Project"}),e.jsxs(V,{children:["Add a new project under ",c]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Project Name *"}),e.jsx(A,{placeholder:"e.g., Mobile App",value:x,onChange:r=>{j(r.target.value),n("")},disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(F,{placeholder:"Optional description...",value:h,onChange:r=>v(r.target.value),disabled:l,rows:3})]}),u&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded text-sm",children:u})]}),e.jsxs(q,{children:[e.jsx(N,{variant:"outline",onClick:d,disabled:l,children:"Cancel"}),e.jsx(N,{onClick:t,disabled:l,children:l?"Creating...":"Create Project"})]})]})})}function ke({isOpen:a,parentName:c,onClose:d,onSubmit:s,isLoading:l}){const[x,j]=i.useState(""),[h,v]=i.useState("dev"),[u,n]=i.useState(""),[t,r]=i.useState(""),[p,g]=i.useState(""),T=async f=>{if(f.preventDefault(),g(""),!x.trim()){g("Environment name is required");return}if(u&&!C(u)){g("Invalid URL format");return}try{await s({name:x.trim(),type:h,url:u.trim()||void 0,description:t.trim()||void 0}),j(""),v("dev"),n(""),r(""),d()}catch(E){g(E instanceof Error?E.message:"Failed to create environment")}},C=f=>{try{return new URL(f),!0}catch{return!1}};return e.jsx(R,{open:a,onOpenChange:d,children:e.jsxs(Z,{children:[e.jsxs(I,{children:[e.jsx(U,{children:"Create New Environment"}),e.jsxs(V,{children:[c&&`Under: ${c}`,!c&&"Add a new environment"]})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"env-name",children:"Environment Name *"}),e.jsx(A,{id:"env-name",placeholder:"e.g., Production",value:x,onChange:f=>j(f.target.value),disabled:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"env-type",children:"Type *"}),e.jsxs(ve,{value:h,onValueChange:v,disabled:l,children:[e.jsx(Ne,{children:e.jsx(ge,{})}),e.jsxs(fe,{children:[e.jsx(w,{value:"dev",children:"Development"}),e.jsx(w,{value:"staging",children:"Staging"}),e.jsx(w,{value:"qa",children:"QA"}),e.jsx(w,{value:"production",children:"Production"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"env-url",children:"URL"}),e.jsx(A,{id:"env-url",type:"url",placeholder:"https://example.com",value:u,onChange:f=>n(f.target.value),disabled:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{htmlFor:"env-description",children:"Description"}),e.jsx(F,{id:"env-description",placeholder:"Describe this environment...",value:t,onChange:f=>r(f.target.value),disabled:l,rows:3})]}),p&&e.jsx("p",{className:"text-sm text-red-600",children:p}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(N,{type:"button",variant:"outline",onClick:d,disabled:l,children:"Cancel"}),e.jsx(N,{type:"submit",disabled:l,children:l?"Creating...":"Create Environment"})]})]})]})})}function De(a){const[c,d]=i.useState(new Set),[s,l]=i.useState(null),x=i.useCallback(()=>a.map(n=>({id:n.id,name:n.name,type:m.TENANT,level:0,expanded:c.has(n.id),selected:s?.id===n.id,children:n.projects.map(t=>({id:t.id,name:t.name,type:m.PROJECT,level:1,parent_id:n.id,expanded:c.has(t.id),selected:s?.id===t.id,children:t.sub_projects.map(r=>({id:r.id,name:r.name,type:m.SUB_PROJECT,level:2,parent_id:t.id,expanded:c.has(r.id),selected:s?.id===r.id,children:r.environments.map(p=>({id:p.id,name:p.name,type:m.ENVIRONMENT,level:3,parent_id:r.id,expanded:!1,selected:s?.id===p.id,children:[],data:p})),data:r})),data:t})),data:n})),[a,c,s]),j=i.useCallback(n=>{d(t=>{const r=new Set(t);return r.has(n)?r.delete(n):r.add(n),r})},[]),h=i.useCallback(n=>{l(n)},[]),v=i.useCallback(()=>{const n=new Set,t=r=>{r.forEach(p=>{n.add(p.id),p.children&&p.children.length>0&&t(p.children)})};t(x()),d(n)},[x]),u=i.useCallback(()=>{d(new Set)},[]);return{tree:x(),expandedNodes:c,selectedNode:s,toggleNode:j,selectNode:h,expandAll:v,collapseAll:u}}function Oe(){const[a,c]=i.useState(!0),[d,s]=i.useState([]),[l,x]=i.useState(null),[j,h]=i.useState(!1),[v,u]=i.useState(!1),[n,t]=i.useState(!1),[r,p]=i.useState(null),[g,T]=i.useState(!1),{tree:C,expandedNodes:f,toggleNode:E,selectNode:G,expandAll:L,collapseAll:Q}=De(d),K=[{id:"TENANT-001",name:"Acme Corporation",description:"Main organization for Acme Corp",status:"active",created_at:"2024-01-01T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:45,risk_score:7.2,projects:[{id:"PROJ-001",name:"Mobile App",description:"iOS and Android applications",status:"active",created_at:"2024-01-15T10:00:00Z",updated_at:"2025-01-10T10:00:00Z",vulnerabilities_count:12,risk_score:6.5,sub_projects:[{id:"SUBPROJ-001",name:"Backend API",description:"REST API services",status:"active",created_at:"2024-02-01T10:00:00Z",updated_at:"2025-01-12T10:00:00Z",vulnerabilities_count:5,risk_score:5.2,environments:[{id:"ENV-001",name:"Dev Server",type:_.DEV,description:"Development environment",url:"https://dev-api.acme.com",status:"active",created_at:"2024-02-05T10:00:00Z",updated_at:"2025-01-14T10:00:00Z",vulnerabilities_count:2,risk_score:3.1},{id:"ENV-002",name:"Production",type:_.PRODUCTION,description:"Production environment",url:"https://api.acme.com",status:"active",created_at:"2024-02-05T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:3,risk_score:7.1}]},{id:"SUBPROJ-002",name:"Frontend App",description:"React web application",status:"active",created_at:"2024-02-10T10:00:00Z",updated_at:"2025-01-11T10:00:00Z",vulnerabilities_count:7,risk_score:7.8,environments:[{id:"ENV-003",name:"Staging",type:_.STAGING,description:"Staging environment",url:"https://staging.acme.com",status:"active",created_at:"2024-02-15T10:00:00Z",updated_at:"2025-01-13T10:00:00Z",vulnerabilities_count:4,risk_score:6.5},{id:"ENV-004",name:"Production",type:_.PRODUCTION,description:"Production web app",url:"https://acme.com",status:"active",created_at:"2024-02-15T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:3,risk_score:8.3}]}]},{id:"PROJ-002",name:"Enterprise Portal",description:"Internal management portal",status:"active",created_at:"2024-03-01T10:00:00Z",updated_at:"2025-01-08T10:00:00Z",vulnerabilities_count:33,risk_score:7.9,sub_projects:[{id:"SUBPROJ-003",name:"Admin Dashboard",description:"Admin control panel",status:"active",created_at:"2024-03-10T10:00:00Z",updated_at:"2025-01-09T10:00:00Z",vulnerabilities_count:20,risk_score:8.1,environments:[{id:"ENV-005",name:"QA",type:_.QA,description:"QA testing environment",url:"https://qa-portal.acme.com",status:"active",created_at:"2024-03-15T10:00:00Z",updated_at:"2025-01-10T10:00:00Z",vulnerabilities_count:8,risk_score:6.8},{id:"ENV-006",name:"Production",type:_.PRODUCTION,description:"Production portal",url:"https://portal.acme.com",status:"active",created_at:"2024-03-15T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:12,risk_score:9.2}]}]}]},{id:"TENANT-002",name:"TechStart Inc",description:"Startup technology company",status:"active",created_at:"2024-06-01T10:00:00Z",updated_at:"2025-01-12T10:00:00Z",vulnerabilities_count:28,risk_score:6.1,projects:[{id:"PROJ-003",name:"SaaS Platform",description:"Cloud-based SaaS solution",status:"active",created_at:"2024-06-15T10:00:00Z",updated_at:"2025-01-11T10:00:00Z",vulnerabilities_count:28,risk_score:6.1,sub_projects:[{id:"SUBPROJ-004",name:"Core Service",description:"Main microservice",status:"active",created_at:"2024-07-01T10:00:00Z",updated_at:"2025-01-10T10:00:00Z",vulnerabilities_count:15,risk_score:5.9,environments:[{id:"ENV-007",name:"Development",type:_.DEV,url:"https://dev-saas.techstart.com",status:"active",created_at:"2024-07-10T10:00:00Z",updated_at:"2025-01-10T10:00:00Z",vulnerabilities_count:6,risk_score:4.2},{id:"ENV-008",name:"Production",type:_.PRODUCTION,url:"https://saas.techstart.com",status:"active",created_at:"2024-07-10T10:00:00Z",updated_at:"2025-01-15T10:00:00Z",vulnerabilities_count:9,risk_score:7.6}]}]}]}];i.useEffect(()=>{W()},[]);const W=async()=>{try{c(!0),s(K)}catch(o){console.error("Failed to fetch assets:",o)}finally{c(!1)}},X=async o=>{try{T(!0);const b={id:`TENANT-${Date.now()}`,name:o.name,description:o.description,status:"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),vulnerabilities_count:0,risk_score:0,projects:[]};s([...d,b]),console.log("âœ… Tenant created:",b)}catch(b){throw console.error("Failed to create tenant:",b),b}finally{T(!1)}},Y=async o=>{try{if(T(!0),!r)throw new Error("No parent selected");console.log("âœ… Project created:",o)}catch(b){throw console.error("Failed to create project:",b),b}finally{T(!1)}},ee=async o=>{try{if(T(!0),!r)throw new Error("No parent selected");console.log("âœ… Environment created:",o)}catch(b){throw console.error("Failed to create environment:",b),b}finally{T(!1)}},te=o=>{p(o),o.type===m.TENANT?u(!0):(o.type===m.PROJECT||o.type===m.SUB_PROJECT)&&t(!0)},se=o=>{console.log("Edit:",o)},ae=o=>{console.log("Delete:",o)};return e.jsxs(e.Fragment,{children:[e.jsxs(le,{children:[e.jsx(oe,{links:Ae}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(ce,{}),e.jsx(ue,{}),e.jsx(ie,{}),e.jsx(me,{})]})]}),e.jsxs(de,{children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Assets"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your organizational structure: Tenants, Projects, and Environments"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:"outline",size:"sm",onClick:Q,className:"gap-2",children:[e.jsx(be,{className:"h-4 w-4"}),"Collapse All"]}),e.jsxs(N,{variant:"outline",size:"sm",onClick:L,className:"gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),"Expand All"]}),e.jsxs(N,{onClick:()=>h(!0),className:"gap-2",children:[e.jsx($,{className:"h-4 w-4"}),"New Tenant"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(y,{children:[e.jsxs(D,{children:[e.jsx(O,{children:"Asset Hierarchy"}),e.jsx(z,{children:"Expand to view projects and environments"})]}),e.jsx(S,{className:"max-h-[600px] overflow-y-auto",children:a?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading assets..."})]})}):d.length===0?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"No assets found"})}):e.jsx(ye,{nodes:C,expandedNodes:f,selectedNode:l,onToggleNode:E,onSelectNode:o=>{G(o),x(o)},onCreateChild:te,onEdit:se,onDelete:ae})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Se,{node:l,onEdit:()=>console.log("Edit"),onDelete:()=>console.log("Delete")})})]})]}),e.jsx(Ee,{isOpen:j,onClose:()=>h(!1),onSubmit:X,isLoading:g}),e.jsx(we,{isOpen:v,parentName:r?.name,onClose:()=>{u(!1),p(null)},onSubmit:Y,isLoading:g}),e.jsx(ke,{isOpen:n,parentName:r?.name,onClose:()=>{t(!1),p(null)},onSubmit:ee,isLoading:g})]})}const Ae=[{title:"Dashboard",href:"/",isActive:!1,disabled:!1},{title:"Vulnerabilities",href:"/vulnerabilities",isActive:!1,disabled:!1},{title:"Assets",href:"/assets",isActive:!0,disabled:!1},{title:"Compliance",href:"/compliance",isActive:!1,disabled:!0}],ct=Oe;export{ct as component};
